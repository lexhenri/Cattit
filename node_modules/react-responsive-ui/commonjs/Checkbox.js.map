{"version":3,"sources":["../source/Checkbox.js"],"names":["PureComponent","Component","Checkbox","state","onKeyDown","event","props","defaultPrevented","checkbox","onFocus","setState","isFocused","onBlur","value","storeInstance","ref","focus","toggle","target","tagName","toLowerCase","disabled","onChange","id","error","indicateInvalid","multiline","ariaLabel","children","style","className","onClick","undefined","CHECKBOX_CHECKED_PATH","CHECKBOX_UNCHECKED_PATH","propTypes","string","name","bool","isRequired","oneOfType","func","node","object","defaultProps"],"mappings":"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","file":"Checkbox.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport WithError from './WithError'\r\n\r\nimport { submitFormOnCtrlEnter } from './utility/dom'\r\nimport { onBlurForReduxForm } from './utility/redux-form'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\n// http://tympanus.net/codrops/2013/10/15/animated-checkboxes-and-radio-buttons-with-svg/\r\n\r\nexport default class Checkbox extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// HTML `id` attribute.\r\n\t\tid : PropTypes.string,\r\n\r\n\t\t// HTML form field \"name\"\r\n\t\tname : PropTypes.string,\r\n\r\n\t\t// `true`/`false`\r\n\t\tvalue : PropTypes.bool.isRequired,\r\n\r\n\t\t// Set to `true` to enable multiline label\r\n\t\tmultiline : PropTypes.bool.isRequired,\r\n\r\n\t\t// Disables the checkbox\r\n\t\tdisabled  : PropTypes.bool.isRequired,\r\n\r\n\t\t// Indicates that the input is invalid.\r\n\t\terror: PropTypes.oneOfType([\r\n\t\t\tPropTypes.string,\r\n\t\t\tPropTypes.bool\r\n\t\t]),\r\n\r\n\t\t// `onClick` handler\r\n\t\tonClick : PropTypes.func,\r\n\r\n\t\t// `onChange` handler\r\n\t\tonChange  : PropTypes.func,\r\n\r\n\t\t// When `true` autofocuses the checkbox\r\n\t\tfocus     : PropTypes.bool.isRequired,\r\n\r\n\t\t// `aria-label` attribute.\r\n\t\t// Deprecated, use `aria-label` instead.\r\n\t\tariaLabel : PropTypes.string,\r\n\r\n\t\t// The label (text)\r\n\t\tchildren  : PropTypes.node,\r\n\r\n\t\t// CSS class\r\n\t\tclassName : PropTypes.string,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle     : PropTypes.object\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\tdisabled  : false,\r\n\t\tvalue     : false,\r\n\t\tmultiline : false,\r\n\t\tfocus     : false,\r\n\r\n\t\t// Show `error` (if passed).\r\n\t\tindicateInvalid : true\r\n\t}\r\n\r\n\tstate = {}\r\n\r\n\tonKeyDown = (event) =>\r\n\t{\r\n\t\tconst { onKeyDown } = this.props\r\n\r\n\t\tif (onKeyDown) {\r\n\t\t\tonKeyDown(event)\r\n\t\t}\r\n\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (submitFormOnCtrlEnter(event, this.checkbox)) {\r\n\t\t\treturn\r\n\t\t}\r\n\t}\r\n\r\n\tonFocus = (event) => {\r\n\t\tconst { onFocus } = this.props\r\n\t\tif (onFocus) {\r\n\t\t\tonFocus(event)\r\n\t\t}\r\n\t\tthis.setState({ isFocused: true })\r\n\t}\r\n\r\n\tonBlur = (event) => {\r\n\t\tconst { onBlur, value } = this.props\r\n\t\tif (onBlur) {\r\n\t\t\tonBlurForReduxForm(onBlur, event, value)\r\n\t\t}\r\n\t\tthis.setState({ isFocused: false })\r\n\t}\r\n\r\n\tstoreInstance = (ref) => this.checkbox = ref\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tid,\r\n\t\t\tvalue,\r\n\t\t\terror,\r\n\t\t\tindicateInvalid,\r\n\t\t\tmultiline,\r\n\t\t\tdisabled,\r\n\t\t\t// Deprecated, use `aria-label` instead.\r\n\t\t\tariaLabel,\r\n\t\t\tchildren,\r\n\t\t\tstyle,\r\n\t\t\tclassName,\r\n\t\t\tonClick\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst { isFocused } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<WithError\r\n\t\t\t\terror={error}\r\n\t\t\t\tindicateInvalid={indicateInvalid}\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tclassName={classNames(className, 'rrui__checkbox', {\r\n\t\t\t\t\t// 'rrui__checkbox--checked'  : value,\r\n\t\t\t\t\t'rrui__checkbox--invalid'   : indicateInvalid && error,\r\n\t\t\t\t\t'rrui__checkbox--disabled'  : disabled,\r\n\t\t\t\t\t'rrui__checkbox--multiline' : multiline,\r\n\t\t\t\t\t'rrui__checkbox--focus'     : isFocused\r\n\t\t\t\t})}>\r\n\r\n\t\t\t\t<label\r\n\t\t\t\t\tclassName={ classNames('rrui__input', {\r\n\t\t\t\t\t\t'rrui__input--multiline' : multiline\r\n\t\t\t\t\t}) }>\r\n\r\n\t\t\t\t\t<span className=\"rrui__checkbox__checkbox\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tid={ id }\r\n\t\t\t\t\t\t\tref={ this.storeInstance }\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\taria-label={ this.props['aria-label'] || ariaLabel }\r\n\t\t\t\t\t\t\taria-invalid={ indicateInvalid && error ? true : undefined }\r\n\t\t\t\t\t\t\tchecked={ value }\r\n\t\t\t\t\t\t\tdisabled={ disabled }\r\n\t\t\t\t\t\t\tonClick={ onClick }\r\n\t\t\t\t\t\t\tonChange={ this.toggle }\r\n\t\t\t\t\t\t\tonKeyDown={ this.onKeyDown }\r\n\t\t\t\t\t\t\tonFocus={ this.onFocus }\r\n\t\t\t\t\t\t\tonBlur={ this.onBlur }\r\n\t\t\t\t\t\t\tclassName=\"rrui__checkbox__input\"/>\r\n\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\tclassName={ classNames('rrui__checkbox__box',\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'rrui__checkbox__box--checked' : value\r\n\t\t\t\t\t\t\t}) }\r\n\t\t\t\t\t\t\tfocusable=\"false\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\taria-hidden=\"true\">\r\n\t\t\t\t\t\t\t<path d={ value ? CHECKBOX_CHECKED_PATH : CHECKBOX_UNCHECKED_PATH }/> }\r\n\t\t\t\t\t\t</svg>\r\n\r\n\t\t\t\t\t\t<span className=\"rrui__checkbox__box-background\"/>\r\n\t\t\t\t\t\t<span className=\"rrui__checkbox__focus-ring\"/>\r\n\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t{ children &&\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName={ classNames('rrui__checkbox__label',\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'rrui__checkbox__label--multiline' : multiline\r\n\t\t\t\t\t\t\t}) }>\r\n\t\t\t\t\t\t\t{ children }\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t</label>\r\n\t\t\t</WithError>\r\n\t\t)\r\n\t}\r\n\r\n\t// render_static()\r\n\t// {\r\n\t// \tconst { name, value, focus, disabled, children } = this.props\r\n\t//\r\n\t// \treturn (\r\n\t// \t\t<div className=\"rrui__rich__fallback\">\r\n\t// \t\t\t{/* This checkbox will be sent as either \"on\" or `undefined` */}\r\n\t// \t\t\t<input\r\n\t// \t\t\t\ttype=\"checkbox\"\r\n\t// \t\t\t\tname={ name }\r\n\t// \t\t\t\tdisabled={ disabled }\r\n\t// \t\t\t\tdefaultChecked={ value }\r\n\t// \t\t\t\tautoFocus={ focus }/>\r\n\t//\r\n\t// \t\t\t<label className=\"rrui__checkbox__label rrui__checkbox__label--fallback\">\r\n\t// \t\t\t\t{ children }\r\n\t// \t\t\t</label>\r\n\t// \t\t</div>\r\n\t// \t)\r\n\t// }\r\n\r\n\tfocus = () => this.checkbox.focus()\r\n\r\n\ttoggle = (event) =>\r\n\t{\r\n\t\t// If a link was clicked - don't treat it as a checkbox label click.\r\n\t\t// (is used for things like \"✓ Read and accepted the <a>licence agreement</a>\")\r\n\t\tif (event.target.tagName.toLowerCase() === 'a') {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.focus()\r\n\r\n\t\tconst { disabled, onChange, value } = this.props\r\n\r\n\t\tif (disabled) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tonChange(!value)\r\n\t}\r\n}\r\n\r\nconst CHECKBOX_CHECKED_PATH   = \"M21.3,0H2.7C1.2,0,0,1.2,0,2.7v18.7C0,22.8,1.2,24,2.7,24h18.7c1.5,0,2.7-1.2,2.7-2.7V2.7C24,1.2,22.8,0,21.3,0z M9.3,18.7 L2.7,12l1.9-1.9l4.8,4.8L19.5,4.8l1.9,1.9L9.3,18.7z\"\r\nconst CHECKBOX_UNCHECKED_PATH = \"M21.2,0H2.9C1.3,0,0,1.3,0,2.9v18.3C0,22.8,1.3,24,2.9,24h18.3c1.6,0,2.8-1.3,2.8-2.8V2.9C24,1.3,22.8,0,21.2,0z M22.3,20.7c0,0.9-0.8,1.7-1.7,1.7H3.4c-0.9,0-1.7-0.8-1.7-1.7V3.4c0-0.9,0.8-1.7,1.7-1.7h17.2c0.9,0,1.7,0.8,1.7,1.7V20.7z\"\r\n\r\n// Thin.\r\n// const CHECKBOX_UNCHECKED_PATH = \"M21.2,0H2.9C1.3,0,0,1.3,0,2.8v18.3C0,22.7,1.3,24,2.9,24h18.3c1.6,0,2.8-1.3,2.8-2.8V2.8C24,1.3,22.8,0,21.2,0z M23.2,20.3c0,1.6-1.3,2.8-2.8,2.8H3.7c-1.6,0-2.8-1.3-2.8-2.8V3.7c0-1.6,1.3-2.8,2.8-2.8h16.6c1.6,0,2.8,1.3,2.8,2.8V20.3z\""]}