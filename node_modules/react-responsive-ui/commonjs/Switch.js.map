{"version":3,"sources":["../source/Switch.js"],"names":["PureComponent","Component","Switch","state","onFocus","event","props","setState","isFocused","onBlur","value","onKeyDown","defaultPrevented","input","storeInputComponent","_","toggle","onChange","disabled","style","className","leftLabel","rightLabel","rightContent","placement","children","isRightSideContent","hasLabel","onMouseDown","inputStyle","propTypes","name","string","bool","isRequired","func","oneOf","node","object","defaultProps","position","opacity","margin"],"mappings":"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","file":"Switch.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport { submitFormOnCtrlEnter } from './utility/dom'\r\nimport { onBlurForReduxForm } from './utility/redux-form'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\n// http://wd.dizaina.net/en/experiments/ios7-style-switch/\r\n\r\n// An iOS-style switch\r\nexport default class Switch extends PureComponent\r\n{\r\n\tstate = {}\r\n\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// HTML form input `name` attribute\r\n\t\tname      : PropTypes.string,\r\n\r\n\t\t// Disables the switch\r\n\t\tdisabled  : PropTypes.bool,\r\n\r\n\t\t// Either `true` or `false`\r\n\t\tvalue     : PropTypes.bool.isRequired,\r\n\r\n\t\t// Is called when the switch is switched\r\n\t\tonChange  : PropTypes.func.isRequired,\r\n\r\n\t\t// The label to the left of the switch\r\n\t\tleftLabel : PropTypes.string,\r\n\r\n\t\t// The label to the right of the switch\r\n\t\trightLabel : PropTypes.string,\r\n\r\n\t\t// (deprecated, use `placement=\"left\"`)\r\n\t\t// Set to `true` to output `children` on the right side.\r\n\t\trightContent : PropTypes.bool,\r\n\r\n\t\t// Determines the placement of the toggle relative to `children`.\r\n\t\t// Is \"right\" by default.\r\n\t\tplacement : PropTypes.oneOf(['left', 'right']),\r\n\r\n\t\t// A label (analogous to `leftLabel`)\r\n\t\tchildren  : PropTypes.node,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle     : PropTypes.object,\r\n\r\n\t\t// CSS class\r\n\t\tclassName : PropTypes.string\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\tvalue: false,\r\n\r\n\t\t// Determines the placement of the toggle relative to `children`.\r\n\t\t// Is \"right\" by default.\r\n\t\tplacement: 'right'\r\n\t}\r\n\r\n\tstate = {}\r\n\r\n\t// // Prevent \"blur\" event on mouse down.\r\n\t// onMouseDown = (event) => event.preventDefault()\r\n\r\n\tonFocus = (event) => {\r\n\t\tconst { onFocus } = this.props\r\n\t\tif (onFocus) {\r\n\t\t\tonFocus(event)\r\n\t\t}\r\n\t\tthis.setState({ isFocused: true })\r\n\t}\r\n\r\n\tonBlur = (event) => {\r\n\t\tconst { onBlur, value } = this.props\r\n\t\tif (onBlur) {\r\n\t\t\tonBlurForReduxForm(onBlur, event, value)\r\n\t\t}\r\n   \tthis.setState({ isFocused: false })\r\n   }\r\n\r\n\tonKeyDown = (event) =>\r\n\t{\r\n\t\tconst { onKeyDown } = this.props\r\n\r\n\t\tif (onKeyDown) {\r\n\t\t\tonKeyDown(event)\r\n\t\t}\r\n\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (submitFormOnCtrlEnter(event, this.input)) {\r\n\t\t\treturn\r\n\t\t}\r\n\t}\r\n\r\n\tstoreInputComponent = _ => this.input = _\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tvalue,\r\n\t\t\tdisabled,\r\n\t\t\tstyle,\r\n\t\t\tclassName,\r\n\t\t\tleftLabel,\r\n\t\t\trightLabel,\r\n\t\t\trightContent,\r\n\t\t\tplacement,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst { isFocused } = this.state\r\n\r\n\t\tconst isRightSideContent = placement === 'left' || rightContent\r\n\t\tconst hasLabel = children || leftLabel || rightLabel || rightContent\r\n\r\n\t\treturn (\r\n\t\t\t<label\r\n\t\t\t\tonMouseDown={this.onMouseDown}\r\n\t\t\t\tonFocus={this.onFocus}\r\n\t\t\t\tonBlur={this.onBlur}\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tclassName={classNames(className, 'rrui__switch', {\r\n\t\t\t\t\t'rrui__input'            : hasLabel,\r\n\t\t\t\t\t'rrui__switch--label'    : children,\r\n\t\t\t\t\t'rrui__switch--disabled' : disabled,\r\n\t\t\t\t\t'rrui__switch--focus'    : isFocused,\r\n\t\t\t\t\t'rrui__switch--on'       : value\r\n\t\t\t\t})}>\r\n\r\n\t\t\t\t{/* Left label */}\r\n\t\t\t\t{(leftLabel || (!isRightSideContent && children)) &&\r\n\t\t\t\t\t<span className={classNames(\r\n\t\t\t\t\t\t'rrui__text-line',\r\n\t\t\t\t\t\t'rrui__switch__label',\r\n\t\t\t\t\t\t'rrui__switch__label--left', {\r\n\t\t\t\t\t\t\t'rrui__switch__label--on': value\r\n\t\t\t\t\t\t})}>\r\n\t\t\t\t\t\t{leftLabel || (!isRightSideContent && children)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{/* The switch */}\r\n\t\t\t\t<span className=\"rrui__switch__switch\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tref={this.storeInputComponent}\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tonKeyDown={this.onKeyDown}\r\n\t\t\t\t\t\tonChange={this.toggle}\r\n\t\t\t\t\t\tclassName=\"rrui__switch__input\"\r\n\t\t\t\t\t\tstyle={inputStyle}/>\r\n\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={classNames('rrui__switch__groove', {\r\n\t\t\t\t\t\t\t// CSS selector performance optimization\r\n\t\t\t\t\t\t\t'rrui__switch__groove--on' : value\r\n\t\t\t\t\t\t})}/>\r\n\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={classNames('rrui__switch__knob', {\r\n\t\t\t\t\t\t\t// CSS selector performance optimization\r\n\t\t\t\t\t\t\t'rrui__switch__knob--on' : value\r\n\t\t\t\t\t\t})}/>\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t{/* Right label */}\r\n\t\t\t\t{(rightLabel || (isRightSideContent && children)) &&\r\n\t\t\t\t\t<span className={classNames(\r\n\t\t\t\t\t\t'rrui__text-line',\r\n\t\t\t\t\t\t'rrui__switch__label',\r\n\t\t\t\t\t\t'rrui__switch__label--right', {\r\n\t\t\t\t\t\t\t'rrui__switch__label--on': value\r\n\t\t\t\t\t\t})}>\r\n\t\t\t\t\t\t{rightLabel || (isRightSideContent && children)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t}\r\n\t\t\t</label>\r\n\t\t)\r\n\t}\r\n\r\n\t// render_static()\r\n\t// {\r\n\t// \tconst { name, disabled, value } = this.props\r\n\t//\r\n\t// \treturn (\r\n\t// \t\t<div className=\"rrui__rich__fallback\">\r\n\t// \t\t\t<input\r\n\t// \t\t\t\ttype=\"checkbox\"\r\n\t// \t\t\t\tname={ name }\r\n\t// \t\t\t\tdisabled={ disabled }\r\n\t// \t\t\t\tvalue={ value }/>\r\n\t// \t\t</div>\r\n\t// \t)\r\n\t// }\r\n\r\n\ttoggle = (event) =>\r\n\t{\r\n\t\tconst { onChange, disabled, value } = this.props\r\n\r\n\t\tif (disabled)\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tonChange(!value)\r\n\t}\r\n}\r\n\r\nconst inputStyle =\r\n{\r\n\tposition : 'absolute',\r\n\topacity  : 0,\r\n\tmargin   : 0\r\n}"]}