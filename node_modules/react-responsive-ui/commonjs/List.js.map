{"version":3,"sources":["../source/List.js"],"names":["findItemIndexByValue","PureComponent","Component","List","state","items","props","itemRefs","input","getFocusedItemIndex","focusedItemIndex","clearFocus","focusItem","unfocus","focus","undefined","list","options","onFocusItem","shouldFocus","setState","focusedItemValue","getItemValue","_isMounted","console","error","onKeyDown","event","children","defaultPrevented","ctrlKey","altKey","shiftKey","metaKey","Children","count","keyCode","preventDefault","previousIndex","getPreviousFocusableItemIndex","interaction","nextIndex","getNextFocusableItemIndex","onKeyPress","resetInputTimeout","characters","char","String","fromCharCode","charCode","onInput","clearTimeout","resetInputTimer","setTimeout","resetInput","isInputInProgress","onInputSpacebar","onItemFocus","expandable","onFocusIn","onBlur","blurTimer","result","onFocusOut","isFocused","value","isFocusableItemIndex","index","isFocusableItem","item","isDivider","storeListNode","node","getDOMNode","storeItemRef","ref","i","highlightFirstItem","prevProps","prevState","highlightSelectedItem","selectedItemIndex","itemRef","click","length","toArray","findItemIndexByLabel","id","disabled","tabbable","hasOnChange","onChange","onSelectItem","createButtons","className","style","role","map","type","displayName","Error","cloneElement","key","focused","tabIndex","createButton","onItemBlur","hasOnSelectItem","selectedItemValue","propTypes","string","any","func","bool","arrayOf","object","isRequired","number","defaultProps","ListItem","onButtonKeyDown","onMouseDown","shouldCreateButton","isSelectable","onFocus","onClick","onSelect","storeRef","isSelectableItem","icon","component","isSelected","isDividerItem","properties","ItemComponent","itemChildren","label","getItemLabel","renderListItemComponent","createElement","Item","unshift","haveItemsChanged","prevItems","itemLabel","toLowerCase","indexOf","element"],"mappings":"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","file":"List.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport Divider from './Divider'\r\n\r\nimport { submitFormOnCtrlEnter } from './utility/dom'\r\nimport { onBlur, focus } from './utility/focus'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\nexport default class List extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// (optional) HTML `id` attribute.\r\n\t\t// Can be used for WAI-ARIA stuff.\r\n\t\t// Example: `<input role=\"combobox\"/>` with `aria-owns={listId}`.\r\n\t\tid : PropTypes.string,\r\n\r\n\t\tvalue : PropTypes.any,\r\n\t\tonChange : PropTypes.func,\r\n\r\n\t\t// If a `<List/>` has `onChange` then it wraps `<List.Item/>`s with `<button/>`s.\r\n\t\t// The `onChange` added by `<ExpandableList/>` overrides the original `onChange`.\r\n\t\t// If there was no `onChange` — there will be one.\r\n\t\t// So to retain that info `hasOnChange` property is used as a workaround.\r\n\t\t// `undefined` means \"ignore this property\".\r\n\t\thasOnChange : PropTypes.bool,\r\n\r\n\t\t// If `items` property is supplied then it's used to\r\n\t\t// detect \"on items changed\" event in `getDerivedStateFromProps`.\r\n\t\t// It seems to be the only usage of the `items` property.\r\n\t\titems : PropTypes.arrayOf(PropTypes.object),\r\n\r\n\t\t// Legacy method, use `onChange` instead.\r\n\t\tonSelectItem : PropTypes.func,\r\n\t\thighlightSelectedItem : PropTypes.bool.isRequired,\r\n\r\n\t\tonFocusIn : PropTypes.func,\r\n\t\tonFocusItem : PropTypes.func,\r\n\t\tonKeyDown : PropTypes.func,\r\n\r\n\t\t// ARIA `role` attribute.\r\n\t\trole : PropTypes.string,\r\n\r\n\t\t// If a `<List/>` is `expandable`\r\n\t\t// then it won't be `.rrui__list:not(.rrui__list--focus)`.\r\n\t\t// `.rrui__list:not(.rrui__list--focus)` is only for standalone lists.\r\n\t\texpandable : PropTypes.bool,\r\n\r\n\t\t// If `tabbable` is `true` (default behavior)\r\n\t\t// then the first item of the list\r\n\t\t// (or the last focused item of the list)\r\n\t\t// will be focused when the list gets focused.\r\n\t\ttabbable : PropTypes.bool.isRequired,\r\n\r\n\t\t// If `shouldFocus` is set to `false`\r\n\t\t// (which is not the default behavior)\r\n\t\t// then the list items won't actually\r\n\t\t// be `.focus()`ed (though they'll be\r\n\t\t// indicated as if they're focused).\r\n\t\t// This feature is used in `<Autocomplete/>`\r\n\t\t// that always keeps the actual focus on the `<input/>`.\r\n\t\tshouldFocus : PropTypes.bool.isRequired,\r\n\r\n\t\t// If `highlightFirstItem` is `true`\r\n\t\t// then by default the first item of the list\r\n\t\t// will be focused every time it's items change.\r\n\t\t// (and also when it's mounted)\r\n\t\thighlightFirstItem : PropTypes.bool.isRequired,\r\n\r\n\t\tcreateButtons : PropTypes.bool.isRequired,\r\n\r\n\t\t// For select options list keyboard navigation via typing.\r\n\t\tresetInputTimeout : PropTypes.number.isRequired\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\ttabbable : true,\r\n\t\tshouldFocus : true,\r\n\t\thighlightFirstItem : false,\r\n\t\tcreateButtons : true,\r\n\t\thighlightSelectedItem : true,\r\n\t\tresetInputTimeout : 1000\r\n\t}\r\n\r\n\tstate = {\r\n\t\titems: this.props.items\r\n\t}\r\n\r\n\t// `ref`s of all items currently rendered.\r\n\titemRefs = []\r\n\r\n\t// For select options list keyboard navigation via typing.\r\n\tinput = ''\r\n\r\n\tcomponentDidMount()\r\n\t{\r\n\t\tconst {\r\n\t\t\thighlightFirstItem\r\n\t\t} = this.props\r\n\r\n\t\tif (highlightFirstItem) {\r\n\t\t\tthis.focusItem(0)\r\n\t\t}\r\n\r\n\t\tthis._isMounted = true\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState)\r\n\t{\r\n\t\tconst {\r\n\t\t\tvalue,\r\n\t\t\titems,\r\n\t\t\tchildren,\r\n\t\t\thighlightSelectedItem,\r\n\t\t\thighlightFirstItem\r\n\t\t} = this.props\r\n\r\n\t\t// If `items` property is supplied\r\n\t\t// then it's used to detect \"on items changed\" event.\r\n\t\tif (prevState.items && prevState.items !== items)\r\n\t\t{\r\n\t\t\tthis.setState({ items })\r\n\t\t\t// `findItemIndexByValue()` must return `undefined` for \"no such item\".\r\n\t\t\tconst selectedItemIndex = highlightSelectedItem ? findItemIndexByValue(value, children) : undefined\r\n\t\t\tthis.focusItem(selectedItemIndex === undefined ? (highlightFirstItem ? 0 : undefined) : selectedItemIndex)\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount()\r\n\t{\r\n\t\tthis._isMounted = false\r\n\t\tclearTimeout(this.blurTimer)\r\n\t\tclearTimeout(this.resetInputTimer)\r\n\t}\r\n\r\n\tchooseFocusedItem() {\r\n\t\tconst { focusedItemIndex } = this.state\r\n\t\tif (focusedItemIndex !== undefined) {\r\n\t\t\tconst itemRef = this.itemRefs[focusedItemIndex]\r\n\t\t\tif (itemRef.click) {\r\n\t\t\t\titemRef.click()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetFocusedItemIndex = () => this.state.focusedItemIndex\r\n\tclearFocus = () => this.focusItem()\r\n\t// Deprecated method name.\r\n\tunfocus = this.clearFocus\r\n\r\n\t// Focuses the list.\r\n\tfocus = () => {\r\n\t\tconst { focusedItemIndex } = this.state\r\n\t\tif (focusedItemIndex !== undefined) {\r\n\t\t\treturn this.focusItem(focusedItemIndex)\r\n\t\t}\r\n\t\tthis.list.focus()\r\n\t}\r\n\r\n\tgetFirstFocusableItemIndex()\r\n\t{\r\n\t\tlet i = 0\r\n\t\twhile (i < this.itemRefs.length) {\r\n\t\t\tif (this.itemRefs[i]) {\r\n\t\t\t\treturn i\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetItemValue(index)\r\n\t{\r\n\t\tconst { children } = this.props\r\n\t\tconst item = React.Children.toArray(children)[index]\r\n\t\treturn item.props.value\r\n\t}\r\n\r\n\t// Can be public API for programmatically focusing a certain `<List.Item/>`.\r\n\tfocusItem = (focusedItemIndex, options = {}) =>\r\n\t{\r\n\t\tconst { onFocusItem, shouldFocus } = this.props\r\n\r\n\t\tif (onFocusItem) {\r\n\t\t\tonFocusItem(focusedItemIndex, options)\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\t// Focus the item.\r\n\t\t\tfocusedItemIndex,\r\n\t\t\t// Store the focused item value.\r\n\t\t\t// This is used for cases like autocomplete\r\n\t\t\t// where the list of options changes but\r\n\t\t\t// the focused option stays focused.\r\n\t\t\tfocusedItemValue: focusedItemIndex === undefined ? undefined : this.getItemValue(focusedItemIndex)\r\n\t\t}, () => {\r\n\t\t\t// Actually focus the item.\r\n\t\t\tif (focusedItemIndex !== undefined) {\r\n\t\t\t\tif (shouldFocus && this._isMounted) {\r\n\t\t\t\t\tif (!focus(this.itemRefs[focusedItemIndex])) {\r\n\t\t\t\t\t\tconsole.error(`<List.Item/> #${focusedItemIndex + 1}'s child component doesn't have a \".focus()\" method.`)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tonKeyDown = (event) =>\r\n\t{\r\n\t\tconst { onKeyDown, children } = this.props\r\n\t\tconst { focusedItemIndex } = this.state\r\n\r\n\t\tif (onKeyDown) {\r\n\t\t\tonKeyDown(event)\r\n\t\t}\r\n\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (submitFormOnCtrlEnter(event, this.input)) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (React.Children.count(children) > 0)\r\n\t\t{\r\n\t\t\tswitch (event.keyCode)\r\n\t\t\t{\r\n\t\t\t\t// \"Up\" arrow.\r\n\t\t\t\t// Select the previous item (if present).\r\n\t\t\t\tcase 38:\r\n\t\t\t\t\tevent.preventDefault()\r\n\r\n\t\t\t\t\tconst previousIndex = this.getPreviousFocusableItemIndex()\r\n\r\n\t\t\t\t\tif (previousIndex !== undefined) {\r\n\t\t\t\t\t\tthis.focusItem(previousIndex, { interaction: true })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn\r\n\r\n\t\t\t\t// \"Down\" arrow.\r\n\t\t\t\t// Select the next item (if present).\r\n\t\t\t\tcase 40:\r\n\t\t\t\t\tevent.preventDefault()\r\n\r\n\t\t\t\t\tconst nextIndex = this.getNextFocusableItemIndex()\r\n\r\n\t\t\t\t\tif (nextIndex !== undefined) {\r\n\t\t\t\t\t\tthis.focusItem(nextIndex, { interaction: true })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonKeyPress = (event) => {\r\n\t\tconst { resetInputTimeout } = this.props\r\n\t\tconst characters = event.char || String.fromCharCode(event.charCode)\r\n\t\tif (characters) {\r\n\t\t\tthis.input += characters\r\n\t\t\tthis.onInput()\r\n\t\t\tclearTimeout(this.resetInputTimer)\r\n\t\t\tthis.resetInputTimer = setTimeout(this.resetInput, resetInputTimeout)\r\n\t\t}\r\n\t}\r\n\r\n\tonInput() {\r\n\t\tconst { children } = this.props\r\n\t\tconst index = findItemIndexByLabel(this.input, children)\r\n\t\tif (index !== undefined) {\r\n\t\t\tthis.focusItem(index)\r\n\t\t}\r\n\t}\r\n\r\n\tresetInput = () => this.input = ''\r\n\tisInputInProgress = () => this.input !== ''\r\n\r\n\tonInputSpacebar = () => {\r\n\t\tif (this.input) {\r\n\t\t\tthis.input += ' '\r\n\t\t}\r\n\t}\r\n\r\n\t// Get the previous option (relative to the currently focused option)\r\n\tgetPreviousFocusableItemIndex()\r\n\t{\r\n\t\tconst { children } = this.props\r\n\t\tlet { focusedItemIndex } = this.state\r\n\r\n\t\tif (focusedItemIndex === undefined) {\r\n\t\t\tfocusedItemIndex = React.Children.count(children)\r\n\t\t}\r\n\r\n\t\twhile (focusedItemIndex > 0) {\r\n\t\t\tfocusedItemIndex--\r\n\t\t\tif (this.isFocusableItemIndex(focusedItemIndex)) {\r\n\t\t\t\treturn focusedItemIndex\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Get the next option (relative to the currently focused option)\r\n\tgetNextFocusableItemIndex()\r\n\t{\r\n\t\tconst { children } = this.props\r\n\t\tlet { focusedItemIndex } = this.state\r\n\r\n\t\tif (focusedItemIndex === undefined) {\r\n\t\t\tfocusedItemIndex = -1\r\n\t\t}\r\n\r\n\t\twhile (focusedItemIndex < React.Children.count(children) - 1) {\r\n\t\t\tfocusedItemIndex++\r\n\t\t\tif (this.isFocusableItemIndex(focusedItemIndex)) {\r\n\t\t\t\treturn focusedItemIndex\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonItemFocus = (event) => {\r\n\t\tconst { expandable } = this.props\r\n\t\tif (expandable) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.onFocusIn()\r\n\t}\r\n\r\n\tonBlur = (event) => {\r\n\t\tconst { expandable } = this.props\r\n\t\tif (expandable) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tclearTimeout(this.blurTimer)\r\n\t\tconst result = onBlur(event, this.onFocusOut, () => this.list)\r\n\t\tif (typeof result === 'number') {\r\n\t\t\tthis.blurTimer = result\r\n\t\t}\r\n\t}\r\n\r\n\tonFocusIn = () => {\r\n\t\tconst { onFocusIn } = this.props\r\n\t\tif (onFocusIn) {\r\n\t\t\tonFocusIn()\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tisFocused: true\r\n\t\t})\r\n\t}\r\n\r\n\tonFocusOut = () => {\r\n\t\tconst { value } = this.props\r\n\t\tif (value === undefined) {\r\n\t\t\tthis.clearFocus()\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tisFocused: false\r\n\t\t})\r\n\t}\r\n\r\n\tisFocusableItemIndex = (index) => this.itemRefs[index] !== undefined\r\n\r\n\tisFocusableItem = (item) => !isDivider(item)\r\n\r\n\t// `this.list` is also being accessed from `<ScrollableList/>`.\r\n\tstoreListNode = (node) => this.list = node\r\n\r\n\t// Is only used by `<ScrollableList/>` so set `max-height` immediately,\r\n\t// without waiting for the next React render cycle.\r\n\tgetDOMNode = () => this.list\r\n\r\n\tstoreItemRef = (ref, i) => this.itemRefs[i] = ref\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tid,\r\n\t\t\texpandable,\r\n\t\t\tdisabled,\r\n\t\t\ttabbable,\r\n\t\t\tvalue,\r\n\t\t\thasOnChange,\r\n\t\t\tonChange,\r\n\t\t\t// `onSelectItem` is deprecated, use `onChange` instead.\r\n\t\t\tonSelectItem,\r\n\t\t\thighlightSelectedItem,\r\n\t\t\tcreateButtons,\r\n\t\t\tclassName,\r\n\t\t\tstyle,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tlet { role } = this.props\r\n\r\n\t\tconst {\r\n\t\t\tfocusedItemIndex,\r\n\t\t\tisFocused\r\n\t\t} = this.state\r\n\r\n\t\t// ARIA (accessibility) roles info:\r\n\t\t// https://www.w3.org/TR/wai-aria-practices/examples/listbox/listbox-collapsible.html\r\n\t\tif (!role && (onChange || onSelectItem)) {\r\n\t\t\trole = 'listbox'\r\n\t\t}\r\n\r\n\t\t// if (this.props['aria-hidden']) {\r\n\t\t// \trole = undefined\r\n\t\t// }\r\n\r\n\t\t// `tabIndex={ -1 }` makes the `<ul/>` focusable.\r\n\t\t// So that `<Expandable/>` doesn't collapse on click inside it (top, bottom).\r\n\r\n\t\treturn (\r\n\t\t\t<ul\r\n\t\t\t\tref={ this.storeListNode }\r\n\t\t\t\tid={ id }\r\n\t\t\t\trole={ role }\r\n\t\t\t\taria-label={ this.props['aria-label'] }\r\n\t\t\t\taria-hidden={ this.props['aria-hidden'] }\r\n\t\t\t\taria-required={ this.props['aria-required'] }\r\n\t\t\t\taria-invalid={ this.props['aria-invalid'] }\r\n\t\t\t\tonFocus={ this.onFocusIn }\r\n\t\t\t\tonKeyDown={ this.onKeyDown }\r\n\t\t\t\tonKeyPress={ this.onKeyPress }\r\n\t\t\t\ttabIndex={ -1 }\r\n\t\t\t\tstyle={ style }\r\n\t\t\t\tclassName={ classNames(className, 'rrui__outline', 'rrui__list', {\r\n\t\t\t\t\t'rrui__list--focus': isFocused\r\n\t\t\t\t}) }>\r\n\r\n\t\t\t\t{ React.Children.map(children, (item, i) =>\r\n\t\t\t\t{\r\n\t\t\t\t\t// Workaround for `react-hot-loader`.\r\n\t\t\t\t\t// https://github.com/gaearon/react-hot-loader#checking-element-types\r\n\t\t\t\t\tif (item.type.displayName !== 'ListItem') {\r\n\t\t\t\t\t\tthrow new Error(`Only <List.Item/>s can be placed inside a <List/> (and remove any whitespace).`)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn React.cloneElement(item,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey       : i,\r\n\t\t\t\t\t\tindex     : i,\r\n\t\t\t\t\t\titemRef   : this.isFocusableItem(item) ? this.storeItemRef : undefined,\r\n\t\t\t\t\t\trole      : role === 'listbox' ? 'option' : item.props.role,\r\n\t\t\t\t\t\tfocus     : this.focusItem,\r\n\t\t\t\t\t\tfocused   : (expandable || isFocused) && focusedItemIndex === i,\r\n\t\t\t\t\t\tdisabled  : disabled || item.props.disabled,\r\n\t\t\t\t\t\ttabIndex  : tabbable && (focusedItemIndex === undefined ? i === 0 : i === focusedItemIndex) ? 0 : -1,\r\n\t\t\t\t\t\tcreateButton : createButtons,\r\n\t\t\t\t\t\tisInputInProgress : this.isInputInProgress,\r\n\t\t\t\t\t\tonInputSpacebar : this.onInputSpacebar,\r\n\t\t\t\t\t\tonItemFocus : this.onItemFocus,\r\n\t\t\t\t\t\tonItemBlur : this.onBlur,\r\n\t\t\t\t\t\tonSelectItem : onChange || onSelectItem,\r\n\t\t\t\t\t\thasOnSelectItem : hasOnChange,\r\n\t\t\t\t\t\tselectedItemValue : value,\r\n\t\t\t\t\t\thighlightSelectedItem : (onChange || onSelectItem) && highlightSelectedItem\r\n\t\t\t\t\t})\r\n\t\t\t\t}) }\r\n\t\t\t</ul>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport class ListItem extends React.Component\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// (optional) HTML `id` attribute.\r\n\t\t// Can be used for WAI-ARIA stuff.\r\n\t\t// Example: `<input role=\"combobox\"/>` with `aria-activedescendant={focusedListItemId}`.\r\n\t\tid : PropTypes.string,\r\n\r\n\t\tvalue : PropTypes.any,\r\n\t\tindex : PropTypes.number,\r\n\t\tfocused : PropTypes.bool,\r\n\t\tonClick : PropTypes.func,\r\n\t\t// `onSelect` is deprecated, use `onClick` instead.\r\n\t\tonSelect : PropTypes.func,\r\n\t\tonSelectItem : PropTypes.func,\r\n\t\t// If a `<List/>` has `onChange` then it wraps `<List.Item/>`s with `<button/>`s.\r\n\t\t// The `onChange` added by `<ExpandableList/>` overrides the original `onChange`.\r\n\t\t// If there was no `onChange` — there will be one.\r\n\t\t// So to retain that info `hasOnChange` property is used as a workaround.\r\n\t\t// `undefined` means \"ignore this property\".\r\n\t\thasOnSelectItem : PropTypes.bool,\r\n\t\tselectedItemValue : PropTypes.any,\r\n\t\thighlightSelectedItem : PropTypes.bool,\r\n\t\tcreateButton : PropTypes.bool,\r\n\t\t// Deprecated. Use `createButton` instead.\r\n\t\tshouldCreateButton : PropTypes.bool,\r\n\t\t// The button won't be pressed on \"Space\" key\r\n\t\t// if the user is currently typing.\r\n\t\tisInputInProgress : PropTypes.func,\r\n\t\tonInputSpacebar : PropTypes.func\r\n\t}\r\n\r\n\tonButtonKeyDown = (event) =>\r\n\t{\r\n\t\tconst { isInputInProgress, onInputSpacebar } = this.props\r\n\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tswitch (event.keyCode) {\r\n\t\t\t// \"Spacebar\".\r\n\t\t\tcase 32:\r\n\t\t\t\t// If the user is currently typing.\r\n\t\t\t\tif (isInputInProgress()) {\r\n\t\t\t\t\t// Don't press the option button.\r\n\t\t\t\t\tevent.preventDefault()\r\n\t\t\t\t\t// Append space character.\r\n\t\t\t\t\tonInputSpacebar()\r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonMouseDown = (event) =>\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tvalue,\r\n\t\t\tindex,\r\n\t\t\tfocus,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// If `<List.Item/>` child element gets wrapped in a `<button/>`\r\n\t\t// then call `onMouseDown` defined on the `<List.Item/>`.\r\n\t\t// If `<List.Item/>` child element doesn't get wrapped in a `<button/>`\r\n\t\t// then manually call `onMouseDown` defined on the `<List.Item/>` child element\r\n\t\t// because `onMouseDown` gets overridden for `<List.Item/>` child element.\r\n\r\n\t\tconst onMouseDown = this.shouldCreateButton() ? this.props.onMouseDown : children.props.onMouseDown\r\n\r\n\t\t// Without this Safari (both mobile and desktop)\r\n\t\t// won't select any item in an expanded list\r\n\t\t// because it will collapse the list immediately\r\n\t\t// on `mouseDown` due to `blur` event being fired.\r\n\t\tevent.preventDefault()\r\n\r\n\t\tif (this.isSelectable()) {\r\n\t\t\tfocus(index)\r\n\t\t}\r\n\r\n\t\tif (onMouseDown) {\r\n\t\t\tonMouseDown(event)\r\n\t\t}\r\n\t}\r\n\r\n\tonFocus = (event) =>\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tfocus,\r\n\t\t\tindex,\r\n\t\t\tonItemFocus,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// If `<List.Item/>` child element gets wrapped in a `<button/>`\r\n\t\t// then call `onFocus` defined on the `<List.Item/>`.\r\n\t\t// If `<List.Item/>` child element doesn't get wrapped in a `<button/>`\r\n\t\t// then manually call `onFocus` defined on the `<List.Item/>` child element\r\n\t\t// because `onFocus` gets overridden for `<List.Item/>` child element.\r\n\r\n\t\tconst onFocus = this.shouldCreateButton() ? this.props.onFocus : children.props.onFocus\r\n\r\n\t\tif (this.isSelectable()) {\r\n\t\t\tfocus(index)\r\n\t\t}\r\n\r\n\t\tif (onFocus) {\r\n\t\t\tonFocus(event)\r\n\t\t}\r\n\r\n\t\tif (onItemFocus) {\r\n\t\t\tonItemFocus(event)\r\n\t\t}\r\n\t}\r\n\r\n\tonBlur = (event) =>\r\n\t{\r\n\t\tconst { onItemBlur, children } = this.props\r\n\r\n\t\t// If `<List.Item/>` child element gets wrapped in a `<button/>`\r\n\t\t// then call `onBlur` defined on the `<List.Item/>`.\r\n\t\t// If `<List.Item/>` child element doesn't get wrapped in a `<button/>`\r\n\t\t// then manually call `onFocus` defined on the `<List.Item/>` child element\r\n\t\t// because `onBlur` gets overridden for `<List.Item/>` child element.\r\n\r\n\t\tconst onBlur = this.shouldCreateButton() ? this.props.onBlur : children.props.onBlur\r\n\r\n\t\tif (onBlur) {\r\n\t\t\tonBlur(event)\r\n\t\t}\r\n\r\n\t\tif (onItemBlur) {\r\n\t\t\tonItemBlur(event)\r\n\t\t}\r\n\t}\r\n\r\n\tonClick = (event) =>\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tonClick,\r\n\t\t\tonSelect,\r\n\t\t\tonSelectItem,\r\n\t\t\tindex,\r\n\t\t\tvalue,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// If `<List.Item/>` child element gets wrapped in a `<button/>`\r\n\t\t// then call `onClick` defined on the `<List.Item/>`.\r\n\t\t// If `<List.Item/>` child element doesn't get wrapped in a `<button/>`\r\n\t\t// then manually call `onClick` defined on the `<List.Item/>` child element\r\n\t\t// because `onClick` gets overridden for `<List.Item/>` child element,\r\n\t\t// and also call `onClick` defined on the `<List.Item/>` (if any).\r\n\r\n\t\tif (onClick) {\r\n\t\t\tonClick(event)\r\n\t\t}\r\n\r\n\t\tif (!this.shouldCreateButton()) {\r\n\t\t\t// Since `onClick` gets overridden\r\n\t\t\t// for `<List.Item/>` child element\r\n\t\t\t// call its original `onClick` manually here.\r\n\t\t\tif (children.props.onClick) {\r\n\t\t\t\tchildren.props.onClick(event)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.isSelectable())\r\n\t\t{\r\n\t\t\tif (onSelect) {\r\n\t\t\t\tonSelect(value, index)\r\n\t\t\t}\r\n\t\t\tif (onSelectItem) {\r\n\t\t\t\tonSelectItem(value, index)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tisSelectable()\r\n\t{\r\n\t\treturn isSelectableItem(this)\r\n\t}\r\n\r\n\t// Perhaps this is called by `focus()` utility function.\r\n\t// Something like: `focus(this.itemRefs[i])`.\r\n\tfocus = () =>\r\n\t{\r\n\t\tconst { children } = this.props\r\n\t\tfocus(React.Children.toArray(children)[0])\r\n\t}\r\n\r\n\tstoreRef = (ref) =>\r\n\t{\r\n\t\tconst { itemRef, index } = this.props\r\n\r\n\t\tif (itemRef) {\r\n\t\t\titemRef(ref, index)\r\n\t\t}\r\n\t}\r\n\r\n\tshouldCreateButton()\r\n\t{\r\n\t\tconst {\r\n\t\t\tonClick,\r\n\t\t\tonSelect,\r\n\t\t\tonSelectItem,\r\n\t\t\thasOnSelectItem,\r\n\t\t\tcreateButton,\r\n\t\t\t// Deprecated. Use `createButton` instead.\r\n\t\t\tshouldCreateButton\r\n\t\t} = this.props\r\n\r\n\t\treturn this.isSelectable() && (\r\n\t\t\tonClick ||\r\n\t\t\tonSelect ||\r\n\t\t\t(\r\n\t\t\t\tonSelectItem &&\r\n\t\t\t\t(hasOnSelectItem === undefined ? true : hasOnSelectItem) &&\r\n\t\t\t\t(createButton || shouldCreateButton)\r\n\t\t\t)\r\n\t\t)\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tid,\r\n\t\t\tvalue,\r\n\t\t\ticon,\r\n\t\t\titem,\r\n\t\t\trole,\r\n\t\t\tfocused,\r\n\t\t\tdisabled,\r\n\t\t\tclassName,\r\n\t\t\ttabIndex,\r\n\t\t\thighlightSelectedItem,\r\n\t\t\tselectedItemValue,\r\n\t\t\tcomponent: Component,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// Throws an error for some weird reason.\r\n\t\t// React.Children.only(children)\r\n\r\n\t\tif (!Component) {\r\n\t\t\tif (React.Children.count(children) !== 1) {\r\n\t\t\t\tthrow new Error(`Each <List.Item/> must have a single child (and remove any whitespace).`)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst isSelected = this.shouldCreateButton() && value === selectedItemValue\r\n\t\tconst isDividerItem = !Component && isDivider(children)\r\n\r\n\t\tconst properties =\r\n\t\t{\r\n\t\t\tref          : isDividerItem ? undefined : this.storeRef,\r\n\t\t\tonMouseDown  : this.onMouseDown,\r\n\t\t\tonClick      : this.onClick,\r\n\t\t\tonFocus      : this.onFocus,\r\n\t\t\tonBlur       : this.onBlur,\r\n\t\t\tclassName    : classNames\r\n\t\t\t(\r\n\t\t\t\tclassName,\r\n\t\t\t\t'rrui__list__item',\r\n\t\t\t\t'rrui__text-line',\r\n\t\t\t\t{\r\n\t\t\t\t\t/* `--focused` modifier is deprecated, use `--focus` instead. */\r\n\t\t\t\t\t'rrui__list__item--focused'  : focused,\r\n\t\t\t\t\t'rrui__list__item--focus'    : focused,\r\n\t\t\t\t\t'rrui__list__item--selected' : isSelected && highlightSelectedItem,\r\n\t\t\t\t\t'rrui__list__item--disabled' : disabled,\r\n\t\t\t\t\t'rrui__list__item--divider'  : isDividerItem\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tif (id !== undefined) {\r\n\t\t\tproperties.id = id\r\n\t\t}\r\n\r\n\t\tif (tabIndex !== undefined) {\r\n\t\t\tproperties.tabIndex = tabIndex\r\n\t\t}\r\n\r\n\t\tlet ItemComponent\r\n\t\tlet itemChildren\r\n\t\tlet label\r\n\r\n\t\tif (this.shouldCreateButton())\r\n\t\t{\r\n\t\t\tItemComponent = 'button'\r\n\t\t\tlabel = getItemLabel(this)\r\n\t\t\tproperties.type = 'button'\r\n\t\t\tproperties.role = role\r\n\t\t\tproperties['aria-selected'] = isSelected\r\n\t\t\tproperties['aria-label'] = this.props.label || (Component ? undefined : (typeof children !== 'string' && children && children.props ? children.props['aria-label'] : undefined))\r\n\t\t\tproperties.disabled = disabled\r\n\t\t\tproperties.onKeyDown = this.onButtonKeyDown\r\n\t\t\tproperties.className = classNames(\r\n\t\t\t\tproperties.className,\r\n\t\t\t\t'rrui__button-reset',\r\n\t\t\t\t'rrui__outline',\r\n\t\t\t\t// `.rrui__list__item--button` only sets the fixed `height`.\r\n\t\t\t\t!Component && 'rrui__list__item--button'\r\n\t\t\t)\r\n\r\n\t\t\titemChildren = Component ?\r\n\t\t\t\t<Component\r\n\t\t\t\t\t{...item}\r\n\t\t\t\t\tselected={isSelected && highlightSelectedItem}\r\n\t\t\t\t\tfocused={focused}\r\n\t\t\t\t\tdisabled={disabled}/> :\r\n\t\t\t\trenderListItemComponent({ value, label, icon, children })\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// Don't overwrite `className` already defined on the `children`.\r\n\t\t\tproperties.className = classNames(\r\n\t\t\t\tproperties.className,\r\n\t\t\t\tchildren.props && children.props.className\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<li\r\n\t\t\t\trole={this.shouldCreateButton() || isDivider(children) ? 'presentation' : role}\r\n\t\t\t\taria-selected={this.shouldCreateButton() ? undefined : (role && role !== 'presentation' ? isSelected : undefined)}\r\n\t\t\t\taria-label={this.shouldCreateButton() ? undefined : label}\r\n\t\t\t\tclassName=\"rrui__list__list-item\">\r\n\t\t\t\t{ ItemComponent && React.createElement(ItemComponent, properties, itemChildren) }\r\n\t\t\t\t{ !ItemComponent && React.cloneElement(children, properties) }\r\n\t\t\t</li>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// Workaround for `react-hot-loader`.\r\n// https://github.com/gaearon/react-hot-loader#checking-element-types\r\nListItem.displayName = 'ListItem'\r\n\r\nList.Item = ListItem\r\n\r\n\r\n// Replace `itemChildren` array with `<React.Fragment/>`\r\n// in some future when React >= 16.2.0 is common.\r\n//\r\n// <React.Fragment>\r\n// \t{/* Icon. */}\r\n// \t{icon &&\r\n// \t\t<div className=\"rrui__list__item-icon\">\r\n// \t\t\t{ React.createElement(icon, { value, label }) }\r\n// \t\t</div>\r\n// \t}\r\n// \t{/* Label (or content). */}\r\n// \t{children}\r\n// </React.Fragment>\r\nfunction renderListItemComponent({\r\n\tvalue,\r\n\tlabel,\r\n\ticon,\r\n\tchildren\r\n}) {\r\n\t// Label (or content).\r\n\tlet itemChildren\r\n\tif (typeof children === 'string') {\r\n\t\t// `text-overflow: ellipsis` doesn't work on `<button/>`s.\r\n\t\t// https://stackoverflow.com/questions/9905409/is-it-possible-to-use-text-overflow-ellipsis-on-a-button-element\r\n\t\titemChildren = [\r\n\t\t\t<span key=\"label\" className=\"rrui__text-line\">\r\n\t\t\t\t{children}\r\n\t\t\t</span>\r\n\t\t]\r\n\t} else {\r\n\t\titemChildren = React.Children.toArray(children)\r\n\t}\r\n\t// Icon.\r\n\tif (icon) {\r\n\t\titemChildren.unshift((\r\n\t\t\t<span key=\"icon\" aria-hidden className=\"rrui__list__item-icon\">\r\n\t\t\t\t{React.createElement(icon, { value, label })}\r\n\t\t\t</span>\r\n\t\t))\r\n\t}\r\n\treturn itemChildren\r\n}\r\n\r\nfunction haveItemsChanged(props, prevProps)\r\n{\r\n\tconst items     = React.Children.toArray(props.children)\r\n\tconst prevItems = React.Children.toArray(prevProps.children)\r\n\r\n\tif (items.length !== prevItems.length) {\r\n\t\treturn true\r\n\t}\r\n\r\n\tlet i = 0\r\n\twhile (i < items.length)\r\n\t{\r\n\t\tif (items[i].props.value !== prevItems[i].props.value) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n\r\n\treturn false\r\n}\r\n\r\nexport function findItemIndexByValue(value, children)\r\n{\r\n\tconst items = React.Children.toArray(children)\r\n\r\n\tlet i = 0\r\n\tfor (const item of items)\r\n\t{\r\n\t\tif (isSelectableItem(item) && item.props.value === value) {\r\n\t\t\treturn i\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n}\r\n\r\nfunction findItemIndexByLabel(value, children)\r\n{\r\n\tconst items = React.Children.toArray(children)\r\n\r\n\tlet i = 0\r\n\tfor (const item of items)\r\n\t{\r\n\t\tif (isSelectableItem(item)) {\r\n\t\t\tconst itemLabel = getItemLabel(item)\r\n\t\t\tif (itemLabel && itemLabel.toLowerCase().indexOf(value.toLowerCase()) === 0) {\r\n\t\t\t\treturn i\r\n\t\t\t}\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n}\r\n\r\nfunction getItemLabel(item) {\r\n\treturn item.props.label || (typeof item.props.children === 'string' ? item.props.children : undefined)\r\n}\r\n\r\nfunction isSelectableItem(item) {\r\n\treturn item.props.component ? true : (item.props.children && !isDivider(item.props.children))\r\n}\r\n\r\nfunction isDivider(element) {\r\n\t// Workaround for `react-hot-loader`.\r\n\t// https://github.com/gaearon/react-hot-loader#checking-element-types\r\n\treturn element.type && element.type.displayName === 'Divider'\r\n}"]}