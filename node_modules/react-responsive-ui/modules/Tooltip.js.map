{"version":3,"sources":["../source/Tooltip.js"],"names":["PureComponent","Component","Tooltip","state","show","isShown","animate","hide_timeout","clearTimeout","undefined","tooltip","classList","remove","create_tooltip","Promise","resolve","setState","accessible","props","calculate_coordinates","x","y","style","left","top","add","isTouchDevice","document","addEventListener","hideOnTouchOutside","hide","hidingAnimationDuration","removeEventListener","setTimeout","destroy_tooltip","_isMounted","event","contains","target","origin","onClick","then","focus","onMouseEnterTooltip","cancelHide","onMouseLeaveTooltip","scheduleHide","onMouseEnter","content","renderContent","createPortal","show_timeout","delay","onMouseLeave","onTouchStartSetTouchDevice","onTouchStart","onTouchEnd","onFocusOut","relatedTarget","onKeyDown","defaultPrevented","ctrlKey","altKey","shiftKey","metaKey","keyCode","preventDefault","storeOriginNode","ref","tooltipClassName","placement","createElement","position","setAttribute","getEdge","split","className","container","appendChild","hide_on_mouse_leave_timeout","parentNode","removeChild","width","offsetWidth","height","offsetHeight","getSide","fitOnScreen","hideTimeout","hideDelay","window","rruiCollapseOnFocusOut","component","componentProps","Fragment","_render","extraChildren","inline","children","rest","inline_style","propTypes","oneOf","isRequired","node","func","object","bool","number","string","defaultProps","body","minimal_margin","innerWidth","pageYOffset","innerHeight","display","dashIndex","indexOf","slice","length"],"mappings":"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","file":"Tooltip.js","sourcesContent":["import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport { getOffset } from './utility/dom'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\n// https://github.com/Dogfalo/materialize/blob/master/js/tooltip.js\r\nexport default class Tooltip extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// Tooltip placement.\r\n\t\tplacement : PropTypes.oneOf([\r\n\t\t\t'top',\r\n\t\t\t'top-start',\r\n\t\t\t'top-end',\r\n\t\t\t'left',\r\n\t\t\t'left-start',\r\n\t\t\t'left-end',\r\n\t\t\t'bottom',\r\n\t\t\t'bottom-start',\r\n\t\t\t'bottom-end',\r\n\t\t\t'right',\r\n\t\t\t'right-start',\r\n\t\t\t'right-end'\r\n\t\t]).isRequired,\r\n\r\n\t\t// Tooltip content.\r\n\t\tcontent : PropTypes.node,\r\n\r\n\t\t// Tooltip content component.\r\n\t\t// Will have access to `hide()` property.\r\n\t\tcomponent : PropTypes.func,\r\n\t\tcomponentProps : PropTypes.object,\r\n\r\n\t\t// Whether this element should be displayed as `inline-block`.\r\n\t\t// (is `true` by default)\r\n\t\tinline : PropTypes.bool.isRequired,\r\n\r\n\t\t// If `true` then the tooltip will be accessible via keyboard.\r\n\t\t// The tooltipped element will be wrapped in a focusable `<button/>`\r\n\t\t// that will show/hide the tooltip on click.\r\n\t\t// Tooltip contents will be focused upon being shown.\r\n\t\t// The tooltip will be closeable via `Esc` key.\r\n\t\t// The tooltip will still be shown/hidden on mouseover.\r\n\t\t// (is `false` by default)\r\n\t\taccessible : PropTypes.bool,\r\n\r\n\t\t// The delay before the tooltip is shown (in milliseconds)\r\n\t\tdelay : PropTypes.number.isRequired,\r\n\r\n\t\t// The duration of the tooltip hiding animation.\r\n\t\t// The DOM element will retain `display: block` for this time period.\r\n\t\t// When changing this timeout also change `transition` time for\r\n\t\t// `.tooltip--after-show` and `.tooltip--before-hide` CSS classes.\r\n\t\t// Is `120` by default.\r\n\t\thidingAnimationDuration : PropTypes.number.isRequired,\r\n\r\n\t\t// (`hideTimeout` is deprecated, use `hideDelay` instead)\r\n\t\t// The tooltip waits `hideTimeout` milliseconds before hiding\r\n\t\t// to support mouseovering over itself.\r\n\t\thideTimeout : PropTypes.number,\r\n\r\n\t\t// The tooltip waits `hideDelay` milliseconds before hiding\r\n\t\t// to support mouseovering over itself.\r\n\t\thideDelay : PropTypes.number.isRequired,\r\n\r\n\t\t// `container: () => DOMElement` property is optional\r\n\t\t// and is gonna be the parent DOM Element for the tooltip itself\r\n\t\t// (`document.body` by default).\r\n\t\t// (in which case make sure that `document.body` has no `margin`\r\n\t\t//  otherwise tooltip `left` and `top` positions will be slightly off).\r\n\t\tcontainer : PropTypes.func,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle : PropTypes.object,\r\n\r\n\t\t// CSS class name\r\n\t\tclassName : PropTypes.string,\r\n\r\n\t\t// Tooltip CSS class name\r\n\t\ttooltipClassName : PropTypes.string\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\tplacement: 'top',\r\n\t\tinline: true,\r\n\t\tdelay: 350, // in milliseconds\r\n\t\thidingAnimationDuration: 200, // in milliseconds\r\n\t\thideDelay: 50, // in milliseconds\r\n\t\tcontainer: () => document.body\r\n\t}\r\n\r\n\tstate = {}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis._isMounted = true\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis._isMounted = false\r\n\t\tthis.destroy_tooltip()\r\n\t}\r\n\r\n\tcreate_tooltip()\r\n\t{\r\n\t\tconst {\r\n\t\t\ttooltipClassName,\r\n\t\t\tplacement,\r\n\t\t\taccessible\r\n\t\t} = this.props\r\n\r\n\t\tthis.tooltip = document.createElement('div')\r\n\r\n\t\tthis.tooltip.style.position = 'absolute'\r\n\t\tthis.tooltip.style.left = 0\r\n\t\tthis.tooltip.style.top  = 0\r\n\r\n\t\tif (accessible) {\r\n\t\t\t// An \"accessible\" tooltip is focused upon being shown.\r\n\t\t\tthis.tooltip.setAttribute('tabIndex', -1)\r\n\t\t\tthis.tooltip.classList.add('rrui__outline')\r\n\t\t\tthis.tooltip.addEventListener('focusout', this.onFocusOut)\r\n\t\t}\r\n\r\n\t\tthis.tooltip.classList.add('rrui__tooltip')\r\n\t\tthis.tooltip.classList.add(`rrui__tooltip--${getEdge(placement)}`)\r\n\r\n\t\tif (tooltipClassName) {\r\n\t\t\tfor (const className of tooltipClassName.split(/\\s+/)) {\r\n\t\t\t\tthis.tooltip.classList.add(className)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.tooltip.addEventListener('mouseenter', this.onMouseEnterTooltip)\r\n\t\tthis.tooltip.addEventListener('mouseleave', this.onMouseLeaveTooltip)\r\n\t\tthis.tooltip.addEventListener('keydown', this.onKeyDown)\r\n\r\n\t\tthis.container().appendChild(this.tooltip)\r\n\t}\r\n\r\n\tdestroy_tooltip()\r\n\t{\r\n\t\tclearTimeout(this.show_timeout)\r\n\t\tclearTimeout(this.hide_timeout)\r\n\t\tclearTimeout(this.hide_on_mouse_leave_timeout)\r\n\r\n\t\tif (this.tooltip)\r\n\t\t{\r\n\t\t\t// Won't throw an exception\r\n\t\t\tthis.tooltip.parentNode.removeChild(this.tooltip)\r\n\t\t\tthis.tooltip = undefined\r\n\t\t}\r\n\t}\r\n\r\n\tcontainer()\r\n\t{\r\n\t\tconst { container } = this.props\r\n\t\treturn container()\r\n\t}\r\n\r\n\tcalculate_coordinates()\r\n\t{\r\n\t\tconst { placement } = this.props\r\n\r\n\t\tconst width  = this.tooltip.offsetWidth\r\n\t\tconst height = this.tooltip.offsetHeight\r\n\r\n\t\tconst origin = getOffset(this.origin)\r\n\r\n\t\tlet top\r\n\t\tlet left\r\n\r\n\t\tswitch (getEdge(placement)) {\r\n\t\t\tcase 'top':\r\n\t\t\t\ttop = origin.top - height\r\n\t\t\t\tbreak\r\n\t\t\tcase 'bottom':\r\n\t\t\t\ttop = origin.top + origin.height\r\n\t\t\t\tbreak\r\n\t\t\tcase 'left':\r\n\t\t\t\tleft = origin.left - width\r\n\t\t\t\tbreak\r\n\t\t\tcase 'right':\r\n\t\t\t\tleft = origin.left + origin.width\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\tswitch (getEdge(placement)) {\r\n\t\t\tcase 'top':\r\n\t\t\tcase 'bottom':\r\n\t\t\t\tswitch (getSide(placement)) {\r\n\t\t\t\t\tcase 'start':\r\n\t\t\t\t\t\tleft = origin.left\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'end':\r\n\t\t\t\t\t\tleft = origin.left + origin.width - width\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t// Default: \"center\".\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tleft = origin.left + (origin.width - width) / 2\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t\tcase 'left':\r\n\t\t\tcase 'right':\r\n\t\t\t\tswitch (getSide(placement)) {\r\n\t\t\t\t\tcase 'start':\r\n\t\t\t\t\t\ttop = origin.top\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'end':\r\n\t\t\t\t\t\ttop = origin.top + origin.height - height\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t// Default: \"center\".\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\ttop = origin.top + (origin.height - height) / 2\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\treturn fitOnScreen(\r\n\t\t\tleft,\r\n\t\t\ttop - getOffset(this.container()).top,\r\n\t\t\twidth,\r\n\t\t\theight\r\n\t\t)\r\n\t}\r\n\r\n\tshow = () =>\r\n\t{\r\n\t\tthis.isShown = true\r\n\r\n\t\t// Play tooltip showing animation\r\n\t\tlet animate = false\r\n\r\n\t\t// If hiding animation is being played,\r\n\t\t// then cancel it, and cancel setting\r\n\t\t// `display` to `none` after it finishes playing.\r\n\t\tif (this.hide_timeout)\r\n\t\t{\r\n\t\t\tclearTimeout(this.hide_timeout)\r\n\t\t\tthis.hide_timeout = undefined\r\n\r\n\t\t\t// Abort tooltip hiding animation.\r\n\t\t\t// It will automatically return to the \"showing\" state.\r\n\t\t\tthis.tooltip.classList.remove('rrui__tooltip--before-hide')\r\n\t\t}\r\n\t\t// Otherwise, the tooltip is hidden (or never been shown)\r\n\t\telse\r\n\t\t{\r\n\t\t\t// Not creating in `componentDidMount()`\r\n\t\t\t// therefore create it here.\r\n\t\t\tif (!this.tooltip)\r\n\t\t\t{\r\n\t\t\t\tthis.create_tooltip()\r\n\t\t\t}\r\n\r\n\t\t\t// Play tooltip showing animation\r\n\t\t\tanimate = true\r\n\t\t}\r\n\r\n\t\t// Now that `this.tooltip` has been created,\r\n\t\t// re-render the component so that `ReactDOM.createPortal()` is called.\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tthis.setState({ isShown: true }, () => {\r\n\t\t\t\tconst { accessible } = this.props\r\n\t\t\t\tconst { x, y } = this.calculate_coordinates()\r\n\r\n\t\t\t\tthis.tooltip.style.left = `${x}px`\r\n\t\t\t\tthis.tooltip.style.top  = `${y}px`\r\n\r\n\t\t\t\t// Play tooltip showing animation\r\n\t\t\t\t// (doing it after setting position because\r\n\t\t\t\t//  setting position applies `display: block`)\r\n\t\t\t\tif (animate) {\r\n\t\t\t\t\tthis.tooltip.classList.add('rrui__tooltip--after-show')\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.isTouchDevice) {\r\n\t\t\t\t\tdocument.addEventListener('touchstart', this.hideOnTouchOutside)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresolve()\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\thide = () =>\r\n\t{\r\n\t\tthis.isShown = false\r\n\r\n\t\tconst { hidingAnimationDuration } = this.props\r\n\r\n\t\t// If already hiding, or if already hidden, then do nothing.\r\n\t\t// if (this.hide_timeout || this.tooltip.style.display === 'none')\r\n\t\tif (this.hide_timeout || !this.tooltip) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (this.isTouchDevice) {\r\n\t\t\tdocument.removeEventListener('touchstart', this.hideOnTouchOutside)\r\n\t\t}\r\n\r\n\t\t// Play tooltip hiding animation\r\n\t\tthis.tooltip.classList.add('rrui__tooltip--before-hide')\r\n\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\t// Set the tooltip to `display: none`\r\n\t\t\t// after its hiding animation finishes.\r\n\t\t\tthis.hide_timeout = setTimeout(() => {\r\n\t\t\t\tthis.hide_timeout = undefined\r\n\t\t\t\tthis.destroy_tooltip()\r\n\t\t\t\tif (this._isMounted) {\r\n\t\t\t\t\tthis.setState({ isShown: false }, resolve)\r\n\t\t\t\t}\r\n\t\t\t}, hidingAnimationDuration)\r\n\t\t})\r\n\t}\r\n\r\n\thideOnTouchOutside = (event) => {\r\n\t\tif (this.isShown) {\r\n\t\t\tif (!this.tooltip.contains(event.target) &&\r\n\t\t\t\t!this.origin.contains(event.target)) {\r\n\t\t\t\tthis.hide()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tscheduleHide() {\r\n\t\tconst { hideTimeout, hideDelay } = this.props\r\n\t\t// `window.rruiCollapseOnFocusOut` can be used\r\n\t\t// for debugging expandable contents.\r\n\t\tif (window.rruiCollapseOnFocusOut !== false) {\r\n\t\t\tthis.hide_on_mouse_leave_timeout = setTimeout(this.hide, hideTimeout || hideDelay)\r\n\t\t}\r\n\t}\r\n\r\n\tcancelHide() {\r\n\t\tclearTimeout(this.hide_on_mouse_leave_timeout)\r\n\t\tthis.hide_on_mouse_leave_timeout = undefined\r\n\t}\r\n\r\n\tonClick = () => {\r\n\t\tif (this.isShown) {\r\n\t\t\tthis.hide()\r\n\t\t} else {\r\n\t\t\tthis.show().then(() => {\r\n\t\t\t\t// An \"accessible\" tooltip is focused upon being shown.\r\n\t\t\t\tthis.tooltip.focus()\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tonMouseEnterTooltip = () =>\r\n\t{\r\n\t\t// mouse enter and mouse leave events\r\n\t\t// are triggered on mobile devices too\r\n\t\tif (this.isTouchDevice) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (this.isShown) {\r\n\t\t\tthis.cancelHide()\r\n\t\t}\r\n\t}\r\n\r\n\tonMouseLeaveTooltip = () =>\r\n\t{\r\n\t\t// mouse enter and mouse leave events\r\n\t\t// are triggered on mobile devices too\r\n\t\tif (this.isTouchDevice) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (this.isShown) {\r\n\t\t\tthis.scheduleHide()\r\n\t\t}\r\n\t}\r\n\r\n\tonMouseEnter = () =>\r\n\t{\r\n\t\tconst content = this.renderContent()\r\n\r\n\t\t// mouse enter and mouse leave events\r\n\t\t// are triggered on mobile devices too\r\n\t\tif (this.isTouchDevice) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (this.isShown) {\r\n\t\t\treturn this.cancelHide()\r\n\t\t}\r\n\r\n\t\t// If the tooltip has no content\r\n\t\t// (e.g. `react-time-ago` first render)\r\n\t\t// or if React Portal API is not available\r\n\t\t// then don't show the tooltip.\r\n\t\tif (!content || !ReactDOM.createPortal) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// Shouldn't happen, because\r\n\t\t// `mouse leave` event clears this timeout.\r\n\t\tif (this.show_timeout) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst { delay } = this.props\r\n\r\n\t\t// Don't show the tooltip immediately\r\n\t\t// but rather wait for the user to\r\n\t\t// \"mouse over\" it for a short time interval.\r\n\t\t// (prevents false positives)\r\n\t\tthis.show_timeout = setTimeout(() => {\r\n\t\t\tthis.show_timeout = undefined\r\n\t\t\tthis.show()\r\n\t\t},\r\n\t\tdelay)\r\n\t}\r\n\r\n\tonMouseLeave = () =>\r\n\t{\r\n\t\t// mouse enter and mouse leave events\r\n\t\t// are triggered on mobile devices too\r\n\t\tif (this.isTouchDevice) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// If tooltip hasn't been shown yet,\r\n\t\t// then cancel showing it.\r\n\t\tif (this.show_timeout) {\r\n\t\t\tclearTimeout(this.show_timeout)\r\n\t\t\tthis.show_timeout = undefined\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// Otherwise, the tooltip is shown, so hide it.\r\n\t\tif (this.isShown) {\r\n\t\t\tthis.scheduleHide()\r\n\t\t}\r\n\t}\r\n\r\n\tonTouchStartSetTouchDevice = () => this.isTouchDevice = true\r\n\r\n\tonTouchStart = () =>\r\n\t{\r\n\t\tconst content = this.renderContent()\r\n\r\n\t\t// mouse enter events won't be processed from now on\r\n\t\tthis.isTouchDevice = true\r\n\r\n\t\t// If the tooltip has no content\r\n\t\t// (e.g. `react-time-ago` first render)\r\n\t\t// or if React Portal API is not available\r\n\t\t// then don't show the tooltip.\r\n\t\tif (!content || !ReactDOM.createPortal) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (this.isShown) {\r\n\t\t\tthis.hide()\r\n\t\t} else {\r\n\t\t\tthis.show()\r\n\t\t}\r\n\t}\r\n\r\n\tonTouchEnd = () => {}\r\n\r\n\t// Is used on the tooltip itself in \"accessible\" mode.\r\n\tonFocusOut = (event) => {\r\n\t\tif (!this.tooltip.contains(event.relatedTarget) &&\r\n\t\t\t!this.origin.contains(event.relatedTarget)) {\r\n\t\t\tthis.hide()\r\n\t\t}\r\n\t}\r\n\r\n\t// This handler is used both on tooltip toggle button\r\n\t// and the tooltip itself.\r\n\tonKeyDown = (event) => {\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tswitch (event.keyCode) {\r\n\t\t\t// Hide on \"Escape\".\r\n\t\t\tcase 27:\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\t// Hide (if not already hidden).\r\n\t\t\t\tthis.hide()\r\n\t\t\t\tconst { accessible } = this.props\r\n\t\t\t\tif (accessible) {\r\n\t\t\t\t\tthis.origin.focus()\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\t\t}\r\n\t}\r\n\r\n\tstoreOriginNode = (ref) => this.origin = ref\r\n\r\n\trenderContent() {\r\n\t\tconst {\r\n\t\t\tcontent,\r\n\t\t\tcomponent: Component,\r\n\t\t\tcomponentProps\r\n\t\t} = this.props\r\n\t\tif (content) {\r\n\t\t\treturn content\r\n\t\t}\r\n\t\tif (Component) {\r\n\t\t\treturn (\r\n\t\t\t\t<Component\r\n\t\t\t\t\t{...componentProps}\r\n\t\t\t\t\thide={this.hide}/>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn null\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\t// Shows tooltip on mouse over when on desktop.\r\n\t\t// Shows tooltip on touch when on mobile.\r\n\r\n\t\t// `ReactDOM.createPortal()` requires React >= 16.\r\n\t\t// If it's not available then it won't show the tooltip.\r\n\r\n\t\tconst content = this.renderContent()\r\n\r\n\t\tconst tooltip = this.tooltip && content && ReactDOM.createPortal &&\r\n\t\t\tReactDOM.createPortal(content, this.tooltip)\r\n\r\n\t\t// For React >= 16.2.\r\n\t\t// Disable React portal event bubbling.\r\n\t\t// https://github.com/facebook/react/issues/11387#issuecomment-340019419\r\n\t\tif (React.Fragment) {\r\n\t\t\treturn (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{this._render()}\r\n\t\t\t\t\t{tooltip}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\t// Legacy version support.\r\n\t\t\t// Can be a bit buggy in some rare cases of mouseentering and mouseleaving.\r\n\t\t\t// Will be removed in some future major version release.\r\n\t\t\treturn this._render(tooltip)\r\n\t\t}\r\n\t}\r\n\r\n\t_render(extraChildren) {\r\n\t\tconst\r\n\t\t{\r\n\t\t\taccessible,\r\n\t\t\tinline,\r\n\t\t\tstyle,\r\n\t\t\tclassName,\r\n\t\t\tchildren,\r\n\t\t\t// Rest.\r\n\t\t\tplacement,\r\n\t\t\tcontent,\r\n\t\t\tcontainer,\r\n\t\t\tcomponent,\r\n\t\t\tcomponentProps,\r\n\t\t\tdelay,\r\n\t\t\thideDelay,\r\n\t\t\thideTimeout,\r\n\t\t\thidingAnimationDuration,\r\n\t\t\ttooltipClassName,\r\n\t\t\t...rest\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst { isShown } = this.state\r\n\r\n\t\tconst Component = accessible ? 'button' : 'div'\r\n\r\n\t\t// There's no WAI-ARIA example of an `aria-role=\"tooltip\"` widget.\r\n\t\t// https://www.w3.org/TR/wai-aria-practices-1.1/#tooltip\r\n\t\t//\r\n\t\t// `aria-haspopup`:\r\n\t\t// https://www.w3.org/TR/wai-aria-1.1/#aria-haspopup\r\n\t\t// WAI-ARIA 1.1 is not yet supported, so not using `aria-haspopup=\"...\"`.\r\n\r\n\t\treturn (\r\n\t\t\t<Component\r\n\t\t\t\t{...rest}\r\n\t\t\t\tref={ this.storeOriginNode }\r\n\t\t\t\tonMouseEnter={ this.onMouseEnter }\r\n\t\t\t\tonMouseLeave={ this.onMouseLeave }\r\n\t\t\t\tonClick={ accessible ? this.onClick : undefined }\r\n\t\t\t\tonTouchStart={ accessible ? this.onTouchStartSetTouchDevice : this.onTouchStart }\r\n\t\t\t\tonTouchEnd={ accessible ? undefined : this.onTouchEnd }\r\n\t\t\t\tonTouchMove={ accessible ? undefined : this.hide }\r\n\t\t\t\tonTouchCancel={ accessible ? undefined : this.hide }\r\n\t\t\t\taria-expanded={ accessible ? isShown : undefined}\r\n\t\t\t\ttype={ accessible ? 'button' : undefined }\r\n\t\t\t\tstyle={ inline ? (style ? { ...inline_style, ...style } : inline_style) : style }\r\n\t\t\t\tclassName={ classNames(className, 'rrui__tooltip__target', {\r\n\t\t\t\t\t'rrui__button-reset': accessible\r\n\t\t\t\t}) }>\r\n\t\t\t\t{ children }\r\n\t\t\t\t{ extraChildren }\r\n\t\t\t</Component>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction fitOnScreen(x, y, width, height)\r\n{\r\n\tconst minimal_margin = 4 // in pixels\r\n\r\n\tif (x < minimal_margin)\r\n\t{\r\n\t\tx = minimal_margin\r\n\t}\r\n\telse if (x + width + minimal_margin > window.innerWidth)\r\n\t{\r\n\t\tx -= (x + width + minimal_margin) - window.innerWidth\r\n\t}\r\n\r\n\tif (y < window.pageYOffset + minimal_margin)\r\n\t{\r\n\t\ty = window.pageYOffset + minimal_margin\r\n\t}\r\n\telse if (y + height + minimal_margin > window.pageYOffset + window.innerHeight)\r\n\t{\r\n\t\ty -= (y + height + minimal_margin) - (window.pageYOffset + window.innerHeight)\r\n\t}\r\n\r\n\treturn { x, y }\r\n}\r\n\r\nconst inline_style =\r\n{\r\n\tdisplay : 'inline-block'\r\n}\r\n\r\n/**\r\n * @param  {string} placement\r\n * @return {string} One of: \"top\", \"right\", \"bottom\", \"left\".\r\n */\r\nfunction getEdge(placement) {\r\n\tconst dashIndex = placement.indexOf('-')\r\n\tif (dashIndex >= 0) {\r\n\t\treturn placement.slice(0, dashIndex)\r\n\t}\r\n\treturn placement\r\n}\r\n\r\n/**\r\n * @param  {string} placement\r\n * @return {string} One of: \"start\", \"center\", \"end\".\r\n */\r\nfunction getSide(placement) {\r\n\tconst dashIndex = placement.indexOf('-')\r\n\tif (dashIndex >= 0) {\r\n\t\treturn placement.slice(dashIndex + '-'.length)\r\n\t}\r\n\treturn 'center'\r\n}"]}