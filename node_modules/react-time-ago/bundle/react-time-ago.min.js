!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types"),require("javascript-time-ago")):"function"==typeof define&&define.amd?define(["react","prop-types","javascript-time-ago"],t):(e=e||self).ReactTimeAgo=t(e.React,e.PropTypes,e["javascript-time-ago"])}(this,(function(e,t,r){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var o="default"in t?t.default:t,n="default"in r?r.default:r,a=t.oneOfType([t.number,t.func]),i=t.arrayOf(t.oneOfType([t.shape({unit:t.string.isRequired,factor:t.number,granularity:t.number,threshold:a}),t.shape({format:t.func.isRequired,threshold:a})])),u=t.oneOfType([t.string,t.shape({gradation:i,units:t.arrayOf(t.string),flavour:t.oneOfType([t.string,t.arrayOf(t.string)]),custom:t.func})]);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=new(function(){function e(){var t,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o={},(r="cache")in(t=this)?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}var t,r,o;return t=e,(r=[{key:"get",value:function(){for(var e=this.cache,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];for(var n=0;n<r.length;n++){var a=r[n];if("object"!==f(e))return;e=e[a]}return e}},{key:"put",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var o=t.pop(),n=t.pop(),a=this.cache,i=0;i<t.length;i++){var u=t[i];"object"!==f(a[u])&&(a[u]={}),a=a[u]}return a[n]=o}}])&&l(t.prototype,r),o&&l(t,o),e}());function s(e,t){if(!r.intlDateTimeFormatSupported())return function(e){return e.toString()};var o=function(e){var t=e.toString();if(p[t])return p[t];return p[t]=r.intlDateTimeFormatSupportedLocale(e)}(e),n=JSON.stringify(t),a=c.get(String(o),n)||c.put(String(o),n,new Intl.DateTimeFormat(o,t));return function(e){return a.format(e)}}var p={};var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function m(e){return e instanceof Date||d(e)}function d(e){return"object"===(void 0===e?"undefined":y(e))&&"function"==typeof e.getTime}var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();var g=e.PureComponent||e.Component,w=864e5,S=[{interval:6e4},{threshold:36e5,interval:6e5},{threshold:432e5,interval:12e5},{threshold:w,interval:108e5},{threshold:7*w,interval:216e5},{threshold:2592e6,interval:432e6},{threshold:7776e6,interval:864e6},{threshold:31536e6,interval:2592e6}],O=function(t){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));if(t.timeAgo=new n(t.getPreferredLocales()),"undefined"!=typeof window){var o=t.props.verboseDateFormat;t.formatVerboseDate=s(t.getPreferredLocales(),o)}return t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),h(r,[{key:"componentDidMount",value:function(){this.props.tick&&this.scheduleNextTick()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.autoUpdateTimer)}},{key:"scheduleNextTick",value:function(){var e=this;this.autoUpdateTimer=setTimeout((function(){e.forceUpdate(),e.scheduleNextTick()}),this.getNextAutoUpdateDelay())}},{key:"getNextAutoUpdateDelay",value:function(){var e=this.props,t=e.date,r=e.timeStyle,o=e.updateInterval;if("object"===(void 0===r?"undefined":v(r)))return o;var n,a=m(n=t)?n.getTime():n,i=Date.now(),u=Math.abs(i-a),f=void 0,l=S,c=Array.isArray(l),s=0;for(l=c?l:l[Symbol.iterator]();;){var p;if(c){if(s>=l.length)break;p=l[s++]}else{if((s=l.next()).done)break;p=s.value}var y=p,d=y.interval,b=y.threshold;b&&u<b||(f=d)}return Math.min(f,2147483647)}},{key:"render",value:function(){var t,r=this.props,o=r.date,n=r.timeStyle,a=r.tooltip,i=r.container,u=(r.locale,r.locales,r.formatVerboseDate,r.verboseDateFormat,r.updateInterval,r.tick,function(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}(r,["date","timeStyle","tooltip","container","locale","locales","formatVerboseDate","verboseDateFormat","updateInterval","tick"])),f=m(t=o)?t:new Date(t),l="undefined"==typeof window?void 0:this.getVerboseDate(f),c=e.createElement("time",b({dateTime:f.toISOString(),title:a?l:void 0},u),this.timeAgo.format(f,n));return i?e.createElement(i,b({verboseDate:l},u),c):c}},{key:"getPreferredLocales",value:function(){var e=this.props.locale,t=this.props.locales;return e&&(t=[e]),t.concat(n.getDefaultLocale())}},{key:"getVerboseDate",value:function(e){var t=this.props.formatVerboseDate;return t?t(D(e)):this.formatVerboseDate(D(e))}}]),r}(g);function D(e){if(e.constructor===Date||d(e))return e;if("number"==typeof e)return new Date(e);throw new Error("Unsupported react-time-ago input: "+(void 0===e?"undefined":v(e))+", "+e)}return O.propTypes={date:o.oneOfType([o.instanceOf(Date),o.number]).isRequired,locale:o.string,locales:o.arrayOf(o.string),timeStyle:u,tooltip:o.bool.isRequired,formatVerboseDate:o.func,verboseDateFormat:o.object,updateInterval:o.number,tick:o.bool,container:o.func},O.defaultProps={locales:[],tooltip:!0,verboseDateFormat:{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"},updateInterval:6e4,tick:!0},O.default=O,O}));
//# sourceMappingURL=react-time-ago.min.js.map
