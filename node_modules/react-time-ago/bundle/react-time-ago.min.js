!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types"),require("javascript-time-ago")):"function"==typeof define&&define.amd?define(["react","prop-types","javascript-time-ago"],t):(e=e||self).ReactTimeAgo=t(e.React,e.PropTypes,e["javascript-time-ago"])}(this,(function(e,t,r){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var o="default"in t?t.default:t,n="default"in r?r.default:r,i=t.oneOfType([t.number,t.func]),a=t.arrayOf(t.oneOfType([t.shape({unit:t.string.isRequired,factor:t.number,granularity:t.number,threshold:i}),t.shape({format:t.func.isRequired,threshold:i})])),u=t.oneOfType([t.string,t.shape({gradation:a,units:t.arrayOf(t.string),flavour:t.oneOfType([t.string,t.arrayOf(t.string)]),custom:t.func})]),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();var c=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscribers=[],this.trigger=function(e){var t=r.subscribers,o=Array.isArray(t),n=0;for(t=o?t:t[Symbol.iterator]();;){var i;if(o){if(n>=t.length)break;i=t[n++]}else{if((n=t.next()).done)break;i=n.value}i()}r.schedule()},this.period=t}return s(e,[{key:"start",value:function(){this.scheduled||this.schedule()}},{key:"schedule",value:function(){this.scheduled=setTimeout(this.trigger,this.period)}},{key:"stop",value:function(){clearTimeout(this.scheduled),this.scheduled=void 0}},{key:"add",value:function(e){var t=this;return this.subscribers.indexOf(e)<0&&this.subscribers.push(e),1===this.subscribers.length&&this.start(),function(){return t.remove(e)}}},{key:"remove",value:function(e){this.subscribers.indexOf(e)>=0&&this.subscribers.splice(this.subscribers.indexOf(e),1),0===this.subscribers.length&&this.stop()}},{key:"destroy",value:function(){this.stop(),this.subscribers=[]}}]),e}();function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var p=new(function(){function e(){var t,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o={},(r="cache")in(t=this)?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}var t,r,o;return t=e,(r=[{key:"get",value:function(){for(var e=this.cache,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];for(var n=0;n<r.length;n++){var i=r[n];if("object"!==f(e))return;e=e[i]}return e}},{key:"put",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var o=t.pop(),n=t.pop(),i=this.cache,a=0;a<t.length;a++){var u=t[a];"object"!==f(i[u])&&(i[u]={}),i=i[u]}return i[n]=o}}])&&l(t.prototype,r),o&&l(t,o),e}());function y(e,t){if(!r.intlDateTimeFormatSupported())return function(e){return e.toString()};var o=function(e){var t=e.toString();if(b[t])return b[t];return b[t]=r.intlDateTimeFormatSupportedLocale(e)}(e),n=JSON.stringify(t),i=p.get(String(o),n)||p.put(String(o),n,new Intl.DateTimeFormat(o,t));return function(e){return i.format(e)}}var b={};var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function m(e){return(t=e)instanceof Date||h(t)?e:new Date(e);var t}function h(e){return"object"===(void 0===e?"undefined":d(e))&&"function"==typeof e.getTime}var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},w=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();var O=function(t){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));if(t.timeAgo=new n(t.getPreferredLocales()),"undefined"!=typeof window){var o=t.props.verboseDateFormat;t.formatVerboseDate=y(t.getPreferredLocales(),o)}return t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),w(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.tick,o=t.updateInterval;r&&(window._react_time_ago_updater||(window._react_time_ago_updater=new c(o)),this.stopAutoupdate=window._react_time_ago_updater.add((function(){return e.forceUpdate()})))}},{key:"componentWillUnmount",value:function(){this.stopAutoupdate&&this.stopAutoupdate()}},{key:"render",value:function(){var t=this.props,r=t.date,o=t.timeStyle,n=t.tooltip,i=t.container,a=(t.locale,t.locales,t.formatVerboseDate,t.verboseDateFormat,t.updateInterval,t.tick,function(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}(t,["date","timeStyle","tooltip","container","locale","locales","formatVerboseDate","verboseDateFormat","updateInterval","tick"])),u=m(r),s="undefined"==typeof window?void 0:this.getVerboseDate(u),c=e.createElement("time",g({dateTime:u.toISOString(),title:n?s:void 0},a),this.timeAgo.format(u,o));return i?e.createElement(i,g({verboseDate:s},a),c):c}},{key:"getPreferredLocales",value:function(){var e=this.props.locale,t=this.props.locales;return e&&(t=[e]),t=t.concat(n.getDefaultLocale())}},{key:"getVerboseDate",value:function(e){var t=this.props.formatVerboseDate;return t?t(S(e)):this.formatVerboseDate(S(e))}}]),r}(e.PureComponent||e.Component);function S(e){if(e.constructor===Date||h(e))return e;if("number"==typeof e)return new Date(e);throw new Error("Unsupported react-time-ago input: "+(void 0===e?"undefined":v(e))+", "+e)}return O.propTypes={date:o.oneOfType([o.instanceOf(Date),o.number]).isRequired,locale:o.string,locales:o.arrayOf(o.string),timeStyle:u,tooltip:o.bool.isRequired,formatVerboseDate:o.func,verboseDateFormat:o.object,updateInterval:o.number,tick:o.bool,container:o.func},O.defaultProps={locales:[],tooltip:!0,verboseDateFormat:{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"},updateInterval:6e4,tick:!0},O.default=O,O}));
//# sourceMappingURL=react-time-ago.min.js.map
