{"version":3,"sources":["../source/cache.js"],"names":["Cache","cache","keys","key","value","pop","lastKey"],"mappings":";;;;;;;;;;AAAA;;;;;;;IAOqBA,K;;;;;;mCACZ,E;;;;;0BAEK;AACZ,UAAIC,KAAK,GAAG,KAAKA,KAAjB;;AADY,wCAANC,IAAM;AAANA,QAAAA,IAAM;AAAA;;AAEZ,4BAAkBA,IAAlB,eAAwB;AAAnB,YAAMC,GAAG,GAAID,IAAJ,IAAT;;AACJ,YAAI,QAAOD,KAAP,MAAiB,QAArB,EAA+B;AAC9B;AACA;;AACDA,QAAAA,KAAK,GAAGA,KAAK,CAACE,GAAD,CAAb;AACA;;AACD,aAAOF,KAAP;AACA;;;0BAEY;AAAA,yCAANC,IAAM;AAANA,QAAAA,IAAM;AAAA;;AACZ,UAAME,KAAK,GAAGF,IAAI,CAACG,GAAL,EAAd;AACA,UAAMC,OAAO,GAAGJ,IAAI,CAACG,GAAL,EAAhB;AACA,UAAIJ,KAAK,GAAG,KAAKA,KAAjB;;AACA,8BAAkBC,IAAlB,gBAAwB;AAAnB,YAAMC,GAAG,GAAID,IAAJ,KAAT;;AACJ,YAAI,QAAOD,KAAK,CAACE,GAAD,CAAZ,MAAsB,QAA1B,EAAoC;AACnCF,UAAAA,KAAK,CAACE,GAAD,CAAL,GAAa,EAAb;AACA;;AACDF,QAAAA,KAAK,GAAGA,KAAK,CAACE,GAAD,CAAb;AACA;;AACD,aAAOF,KAAK,CAACK,OAAD,CAAL,GAAiBF,KAAxB;AACA;;;;;;SAzBmBJ,K","sourcesContent":["/**\r\n * A basic in-memory cache.\r\n *\r\n * import Cache from 'javascript-time-ago/Cache'\r\n * const cache = new Cache()\r\n * const object = cache.get('key1', 'key2', ...) || cache.put('key1', 'key2', ..., createObject())\r\n */\r\nexport default class Cache {\r\n\tcache = {}\r\n\r\n\tget(...keys) {\r\n\t\tlet cache = this.cache\r\n\t\tfor (const key of keys) {\r\n\t\t\tif (typeof cache !== 'object') {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tcache = cache[key]\r\n\t\t}\r\n\t\treturn cache\r\n\t}\r\n\r\n\tput(...keys) {\r\n\t\tconst value = keys.pop()\r\n\t\tconst lastKey = keys.pop()\r\n\t\tlet cache = this.cache\r\n\t\tfor (const key of keys) {\r\n\t\t\tif (typeof cache[key] !== 'object') {\r\n\t\t\t\tcache[key] = {}\r\n\t\t\t}\r\n\t\t\tcache = cache[key]\r\n\t\t}\r\n\t\treturn cache[lastKey] = value\r\n\t}\r\n}"],"file":"cache.js"}