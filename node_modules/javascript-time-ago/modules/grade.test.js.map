{"version":3,"sources":["../source/grade.test.js"],"names":["grade","canonical","describe","it","expect","to","be","undefined","unit","deep","equal","throw","gradation","slice","should","granularity","splice"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,iBAAlB;AACA,SAASC,SAAT,QAA0B,qBAA1B;AAEAC,QAAQ,CAAC,OAAD,EAAU,YAClB;AACCC,EAAAA,EAAE,CAAC,uDAAD,EAA0D,YAC5D;AACCC,IAAAA,MAAM,CAACJ,KAAK,CAAC,CAAD,EAAI,IAAJ,EAAU,CAAC,aAAD,CAAV,EAA2BC,SAA3B,CAAN,CAAN,CAAmDI,EAAnD,CAAsDC,EAAtD,CAAyDC,SAAzD;AACA,GAHC,CAAF;AAKAJ,EAAAA,EAAE,CAAC,4DAAD,EAA+D,YACjE;AACCC,IAAAA,MAAM,CAACJ,KAAK,CAAC,CAAD,EAAI,IAAJ,EAAU,CAAC,QAAD,CAAV,EAAsB,CAAC;AAAEQ,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAtB,CAAN,CAAN,CAAyDH,EAAzD,CAA4DI,IAA5D,CAAiEC,KAAjE,CAAuE;AAAEF,MAAAA,IAAI,EAAE;AAAR,KAAvE;AAEAJ,IAAAA,MAAM,CAAC,YAAM;AACZJ,MAAAA,KAAK,CAAC,CAAD,EAAI,IAAJ,EAAU,CAAC,QAAD,EAAW,QAAX,CAAV,EAAgC,CAAC;AAAEQ,QAAAA,IAAI,EAAE;AAAR,OAAD,EAAqB;AAAEA,QAAAA,IAAI,EAAE;AAAR,OAArB,CAAhC,CAAL;AACA,KAFK,CAAN,CAEGH,EAFH,CAEMM,KAFN,CAGC,sIAHD;AAKA,GATC,CAAF;AAWAR,EAAAA,EAAE,CAAC,4EAAD,EAA+E,YACjF;AACC,QAAMS,SAAS,GAAGX,SAAS,CAACY,KAAV,EAAlB;AAEAD,IAAAA,SAAS,CAAC,CAAD,CAAT,CAAaJ,IAAb,CAAkBM,MAAlB,CAAyBJ,KAAzB,CAA+B,QAA/B;AACAE,IAAAA,SAAS,CAAC,CAAD,CAAT,CAAaG,WAAb,GAA2B,CAA3B;AAEAf,IAAAA,KAAK,CAAC,IAAD,EAAO,IAAP,EAAa,CAAC,KAAD,EAAQ,QAAR,CAAb,EAAgCY,SAAhC,CAAL,CAAgDJ,IAAhD,CAAqDM,MAArD,CAA4DJ,KAA5D,CAAkE,KAAlE,EAND,CAQC;;AAEAE,IAAAA,SAAS,CAACI,MAAV,CAAiB,CAAjB,EAAoB,CAApB;AAEAhB,IAAAA,KAAK,CAAC,IAAD,EAAO,IAAP,EAAa,CAAC,KAAD,EAAQ,QAAR,CAAb,EAAgCY,SAAhC,CAAL,CAAgDJ,IAAhD,CAAqDM,MAArD,CAA4DJ,KAA5D,CAAkE,QAAlE;AACA,GAdC,CAAF;AAeA,CAjCO,CAAR","sourcesContent":["import grade from '../source/grade'\r\nimport { canonical } from '../source/gradation'\r\n\r\ndescribe('grade', () =>\r\n{\r\n\tit('should return nothing if no time units are applicable', () =>\r\n\t{\r\n\t\texpect(grade(0, null, ['femtosecond'], canonical)).to.be.undefined\r\n\t})\r\n\r\n\tit('should throw if a non-first step does not have a threshold', () =>\r\n\t{\r\n\t\texpect(grade(2, null, ['second'], [{ unit: 'second' }])).to.deep.equal({ unit: 'second' })\r\n\r\n\t\texpect(() => {\r\n\t\t\tgrade(2, null, ['second', 'minute'], [{ unit: 'second' }, { unit: 'minute' }])\r\n\t\t}).to.throw(\r\n\t\t\t'Each step of a gradation must have a threshold defined except for the first one. Got \"undefined\", undefined. Step: {\"unit\":\"minute\"}'\r\n\t\t)\r\n\t})\r\n\r\n\tit('should fall back to previous grading scale step if granularity is too high', () =>\r\n\t{\r\n\t\tconst gradation = canonical.slice()\r\n\r\n\t\tgradation[1].unit.should.equal('second')\r\n\t\tgradation[1].granularity = 3\r\n\r\n\t\tgrade(1.49, null, ['now', 'second'], gradation).unit.should.equal('now')\r\n\r\n\t\t// And if there's no previous step, then use the current one.\r\n\r\n\t\tgradation.splice(0, 1)\r\n\r\n\t\tgrade(1.49, null, ['now', 'second'], gradation).unit.should.equal('second')\r\n\t})\r\n})"],"file":"grade.test.js"}