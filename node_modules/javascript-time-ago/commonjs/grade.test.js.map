{"version":3,"sources":["../source/grade.test.js"],"names":["describe","it","expect","canonical","to","be","undefined","unit","deep","equal","throw","gradation","slice","should","granularity","splice"],"mappings":";;AAAA;;AACA;;;;AAEAA,QAAQ,CAAC,OAAD,EAAU,YAClB;AACCC,EAAAA,EAAE,CAAC,uDAAD,EAA0D,YAC5D;AACCC,IAAAA,MAAM,CAAC,oBAAM,CAAN,EAAS,IAAT,EAAe,CAAC,aAAD,CAAf,EAAgCC,oBAAhC,CAAD,CAAN,CAAmDC,EAAnD,CAAsDC,EAAtD,CAAyDC,SAAzD;AACA,GAHC,CAAF;AAKAL,EAAAA,EAAE,CAAC,4DAAD,EAA+D,YACjE;AACCC,IAAAA,MAAM,CAAC,oBAAM,CAAN,EAAS,IAAT,EAAe,CAAC,QAAD,CAAf,EAA2B,CAAC;AAAEK,MAAAA,IAAI,EAAE;AAAR,KAAD,CAA3B,CAAD,CAAN,CAAyDH,EAAzD,CAA4DI,IAA5D,CAAiEC,KAAjE,CAAuE;AAAEF,MAAAA,IAAI,EAAE;AAAR,KAAvE;AAEAL,IAAAA,MAAM,CAAC,YAAM;AACZ,0BAAM,CAAN,EAAS,IAAT,EAAe,CAAC,QAAD,EAAW,QAAX,CAAf,EAAqC,CAAC;AAAEK,QAAAA,IAAI,EAAE;AAAR,OAAD,EAAqB;AAAEA,QAAAA,IAAI,EAAE;AAAR,OAArB,CAArC;AACA,KAFK,CAAN,CAEGH,EAFH,CAEMM,KAFN,CAGC,sIAHD;AAKA,GATC,CAAF;AAWAT,EAAAA,EAAE,CAAC,4EAAD,EAA+E,YACjF;AACC,QAAMU,SAAS,GAAGR,qBAAUS,KAAV,EAAlB;;AAEAD,IAAAA,SAAS,CAAC,CAAD,CAAT,CAAaJ,IAAb,CAAkBM,MAAlB,CAAyBJ,KAAzB,CAA+B,QAA/B;AACAE,IAAAA,SAAS,CAAC,CAAD,CAAT,CAAaG,WAAb,GAA2B,CAA3B;AAEA,wBAAM,IAAN,EAAY,IAAZ,EAAkB,CAAC,KAAD,EAAQ,QAAR,CAAlB,EAAqCH,SAArC,EAAgDJ,IAAhD,CAAqDM,MAArD,CAA4DJ,KAA5D,CAAkE,KAAlE,EAND,CAQC;;AAEAE,IAAAA,SAAS,CAACI,MAAV,CAAiB,CAAjB,EAAoB,CAApB;AAEA,wBAAM,IAAN,EAAY,IAAZ,EAAkB,CAAC,KAAD,EAAQ,QAAR,CAAlB,EAAqCJ,SAArC,EAAgDJ,IAAhD,CAAqDM,MAArD,CAA4DJ,KAA5D,CAAkE,QAAlE;AACA,GAdC,CAAF;AAeA,CAjCO,CAAR","sourcesContent":["import grade from '../source/grade'\r\nimport { canonical } from '../source/gradation'\r\n\r\ndescribe('grade', () =>\r\n{\r\n\tit('should return nothing if no time units are applicable', () =>\r\n\t{\r\n\t\texpect(grade(0, null, ['femtosecond'], canonical)).to.be.undefined\r\n\t})\r\n\r\n\tit('should throw if a non-first step does not have a threshold', () =>\r\n\t{\r\n\t\texpect(grade(2, null, ['second'], [{ unit: 'second' }])).to.deep.equal({ unit: 'second' })\r\n\r\n\t\texpect(() => {\r\n\t\t\tgrade(2, null, ['second', 'minute'], [{ unit: 'second' }, { unit: 'minute' }])\r\n\t\t}).to.throw(\r\n\t\t\t'Each step of a gradation must have a threshold defined except for the first one. Got \"undefined\", undefined. Step: {\"unit\":\"minute\"}'\r\n\t\t)\r\n\t})\r\n\r\n\tit('should fall back to previous grading scale step if granularity is too high', () =>\r\n\t{\r\n\t\tconst gradation = canonical.slice()\r\n\r\n\t\tgradation[1].unit.should.equal('second')\r\n\t\tgradation[1].granularity = 3\r\n\r\n\t\tgrade(1.49, null, ['now', 'second'], gradation).unit.should.equal('now')\r\n\r\n\t\t// And if there's no previous step, then use the current one.\r\n\r\n\t\tgradation.splice(0, 1)\r\n\r\n\t\tgrade(1.49, null, ['now', 'second'], gradation).unit.should.equal('second')\r\n\t})\r\n})"],"file":"grade.test.js"}